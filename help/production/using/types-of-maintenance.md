---
product: campaign
title: メンテナンスのタイプ
description: メンテナンスのタイプ
feature: Monitoring
badge-v7-only: label="v7" type="Informative" tooltip="Campaign Classicv7 にのみ適用"
badge-v7-prem: label="オンプレミスおよびハイブリッド" type="Caution" url="https://experienceleague.adobe.com/docs/campaign-classic/using/installing-campaign-classic/architecture-and-hosting-models/hosting-models-lp/hosting-models.html?lang=ja" tooltip="オンプレミスデプロイメントとハイブリッドデプロイメントにのみ適用されます"
audience: production
content-type: reference
topic-tags: database-maintenance
exl-id: 08e179aa-fd83-4c0a-879e-ab7aec168d92
source-git-commit: 3a9b21d626b60754789c3f594ba798309f62a553
workflow-type: tm+mt
source-wordcount: '519'
ht-degree: 5%

---

# メンテナンスのタイプ{#types-of-maintenance}



## アプリケーションのメンテナンス {#application-maintenance}

Adobe Campaignには、特定のデータベースメンテナンスタスクをスケジュールできる組み込みのワークフローが用意されています。 **データベースクリーンアップワークフロー**. このワークフローは、次のタスクを実行します。

* 期限切れレコードの削除
* 期限切れオブジェクトの孤立したレコードの削除とステータスの再初期化
* データベース統計を更新する。

>[!IMPORTANT]
>
>クリーンアップタスクの処理は、RDBMS レベルのメンテナンス（統計の更新を除く）ではなく、アプリケーションレベルのメンテナンスが主に行われることに注意してください。 ただし、データベースのメンテナンス操作は必要です。 データベースクリーンアップワークフローが正常に実行された場合でも、データベースが最適に調整されているわけではありません。

## 技術的メンテナンス {#technical-maintenance}

データベースクリーンアップワークフローには、データベースメンテナンスツールは含まれていません。メンテナンスを整理するかどうかは、ユーザーが決定します。 これをおこなうには、次のいずれかを実行します。

* データベース管理者と協力して、サードパーティのツールとのデータベースメンテナンスを設定します。
* Adobe Campaignワークフローエンジンを使用して、これらのメンテナンスアクティビティをスケジュールおよび追跡します。

これらのメンテナンス手順は、定期的に実行する必要があり、次の手順を含める必要があります。

* 頻繁に更新されるテーブルのインデックスを再作成する
* テーブルをコンパクトに再構築して、断片化を回避します。

### メンテナンススケジュール {#maintenance-schedule}

これらのメンテナンス作業を実行するための適切なスロットを見つける必要があります。 実行中にデータベースのパフォーマンスに大きな影響を与えたり、（ロックによって）アプリケーションをブロックする場合もあります。

これらのタスクは通常、バックアップ、データの再読み込み、集計の計算と衝突しない低アクティビティの期間中に週に 1 回実行されます。 高い望みを持つシステムの中には、より頻繁なメンテナンスが必要なものもあります。

フルテーブルの再構築など、より詳細なメンテナンスは、月に 1 回実行でき、望ましくは、システムが使用できないため、アプリケーションを完全に停止した状態で実行できます。

### テーブルの再構築 {#rebuilding-a-table}

いくつかの戦略を使用できます。

<table> 
 <thead> 
  <tr> 
   <th> 運用 </th> 
   <th> 説明 </th> 
   <th> 利点 </th> 
   <th> 欠点 </th> 
  </tr> 
 </thead> 
 <tbody> 
  <tr> 
   <td> オンラインでの最適化<br /> </td> 
   <td> ほとんどのデータベースエンジンは最適化方法を提供します。<br /> </td> 
   <td> 単に、データベースの最適化方法を使用します。 これらの方法では、通常、最適化中にデータをロックすることで、整合性の問題を処理します。<br /> </td> 
   <td> データベースによっては、これらの最適化方法は RDBMS オプション (Oracle) として提供され、必ずしも大きなテーブルを処理する最も効率的な方法ではありません。<br /> </td> 
  </tr> 
  <tr> 
   <td> ダンプと復元<br /> </td> 
   <td> テーブルをファイルにダンプし、データベース内のテーブルを削除して、ダンプから復元します。<br /> </td> 
   <td> これは、テーブルを最適化する最も簡単な方法です。 また、データベースがほぼいっぱいの場合の唯一の解決策です。<br /> </td> 
   <td> テーブルは削除され、再作成されるので、読み取り専用モードでも、アプリケーションをオンラインのままにすることはできません（このテーブルは復元フェーズでは使用できません）。<br /> </td> 
  </tr> 
  <tr> 
   <td> 複製、名前変更、ドロップ<br /> </td> 
   <td> これにより、テーブルとそのインデックスのコピーが作成され、既存のコピーを削除し、そのコピーの代わりにコピーの名前を変更します。<br /> </td> 
   <td> この方法は、IO の生成数が少ない（ファイルとしてのコピーはなく、このファイルから読み取る）ので、最初の方法よりも高速です。<br /> </td> 
   <td> 2 倍の容量が必要です。<br /> プロセス中にテーブルに書き込むすべてのアクティブなプロセスを停止する必要があります。 ただし、テーブルは再構築後に最後の時点でスワップされるので、読み取りプロセスには影響しません。 <br /> </td> 
  </tr> 
 </tbody> 
</table>
