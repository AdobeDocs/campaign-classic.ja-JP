---
product: campaign
title: メンテナンスのタイプ
description: メンテナンスのタイプ
audience: production
content-type: reference
topic-tags: database-maintenance
exl-id: 08e179aa-fd83-4c0a-879e-ab7aec168d92
source-git-commit: 98d646919fedc66ee9145522ad0c5f15b25dbf2e
workflow-type: tm+mt
source-wordcount: '494'
ht-degree: 2%

---

# メンテナンスのタイプ{#types-of-maintenance}

## アプリケーションメンテナンス{#application-maintenance}

Adobe Campaignには、特定のデータベースメンテナンスタスクをスケジュールできる組み込みのワークフローが用意されています。**データベースクリーンアップワークフロー**。 このワークフローでは、次のタスクを実行します。

* 期限切れレコードの削除
* 期限切れオブジェクトの孤立したレコードの削除とステータスの再初期化
* データベース統計を更新する。

>[!IMPORTANT]
>
>クリーンアップタスクは、RDBMSレベルのメンテナンス（統計の更新を除く）ではなく、主にアプリケーションレベルのメンテナンスを扱うことに注意してください。 ただし、データベースに対するメンテナンス操作は必要です。 データベースクリーンアップワークフローが正常に実行された場合でも、データベースが最適に調整されているわけではありません。

## テクニカルメンテナンス{#technical-maintenance}

データベースクリーンアップワークフローには、データベースメンテナンスツールは含まれていません。メンテナンスを整理するのはあなた次第です。 これをおこなうには、次のいずれかを実行します。

* データベース管理者と協力して、サードパーティのツールとのデータベースメンテナンスを設定します。
* Adobe Campaignワークフローエンジンを使用して、これらのメンテナンスアクティビティをスケジュールおよび追跡します。

これらのメンテナンス手順は、定期的に実行する必要があり、次の手順を含める必要があります。

* 頻繁に更新されるテーブルのインデックス再作成
* テーブルを圧縮/再構築して断片化を回避します。

### メンテナンススケジュール{#maintenance-schedule}

これらのメンテナンス作業を実行するための適切なスロットを見つける必要があります。 実行中はデータベースのパフォーマンスに大きな影響を与えたり、（ロックによって）アプリケーションをブロックする場合もあります。

これらのタスクは通常、低アクティビティ時に週に1回実行され、バックアップ、データの再読み込み、集計の計算とは衝突しません。 高い頻度で要求されるシステムの中には、より頻繁なメンテナンスが必要なものもあります。

フルテーブルの再構築など、より詳細なメンテナンスは、月に1回実行できます。できれば、システムが使用できないため、アプリケーションを完全に停止した状態で実行できます。

### テーブル{#rebuilding-a-table}の再構築

いくつかの戦略を使用できます。

<table> 
 <thead> 
  <tr> 
   <th> 運用 </th> 
   <th> 説明 </th> 
   <th> 利点 </th> 
   <th> 欠点 </th> 
  </tr> 
 </thead> 
 <tbody> 
  <tr> 
   <td> オンラインでのデフラグメント<br /> </td> 
   <td> ほとんどのデータベースエンジンは最適化方法を提供しています。<br /> </td> 
   <td> 単にデータベースの最適化方法を使用します。 これらのメソッドは、通常、最適化中にデータをロックすることで整合性の問題を処理します。<br /> </td> 
   <td> データベースによっては、これらのデフラグメント方法をRDBMSオプション(Oracle)として提供することができ、必ずしも大きなテーブルを処理する最も効率的な方法とは限りません。<br /> </td> 
  </tr> 
  <tr> 
   <td> ダンプと復元<br /> </td> 
   <td> テーブルをファイルにダンプし、データベース内のテーブルを削除して、ダンプから復元します。<br /> </td> 
   <td> これは、テーブルを最適化する最も簡単な方法です。 また、データベースがほぼいっぱいになった場合の唯一の解決策です。<br /> </td> 
   <td> テーブルは削除され、再作成されるので、読み取り専用モードでもアプリケーションをオンラインにすることはできません（復元フェーズではテーブルを使用できません）。<br /> </td> 
  </tr> 
  <tr> 
   <td> 複製、名前変更、ドロップ<br /> </td> 
   <td> これにより、テーブルとそのインデックスのコピーが作成され、既存のコピーを削除し、コピーの名前を変更して代わりに使用します。<br /> </td> 
   <td> この方法は、IOの数が少ない（ファイルとしてコピーせず、このファイルから読み出す）ので、最初の方法よりも高速です。<br /> </td> 
   <td> 2倍の容量が必要です。<br /> プロセス中にテーブルに書き込むアクティブなプロセスはすべて停止する必要があります。ただし、テーブルは再構築後に最後の時点でスワップされるので、読み取りプロセスに影響はありません。<br /> </td> 
  </tr> 
 </tbody> 
</table>
