---
product: campaign
title: Campaign Classicの一般的なアーキテクチャ
description: インストールと設定のCampaign Classic
audience: installation
content-type: reference
topic-tags: architecture-and-hosting-models
exl-id: 04e6dc17-427b-4745-84cc-bf45c03dbf81
source-git-commit: 40da5774c8a6a228992c4aa400e2d9924215611e
workflow-type: tm+mt
source-wordcount: '1342'
ht-degree: 50%

---

# 一般的なアーキテクチャ{#general-architecture}

![](../../assets/v7-only.svg)

一般的な Adobe Campaign ソリューションのデプロイメントは、次のコンポーネントで構成されます。

* **パーソナライズされたクライアント環境**

   マーケティングオファーの伝達と追跡、キャンペーンの作成、すべてのマーケティング活動、プログラムとプラン（E メール、ワークフロー、ランディングページを含む）の確認と管理、顧客プロファイルの作成と管理、顧客オーディエンスの種類の定義が可能な直感的なグラフィカルインターフェイス。

* **開発環境**

   サーバーサイドのソフトウェア。ユーザーインターフェイスで定義するルールとワークフローに基づき、選択したコミュニケーションチャネル（メール、SMS、プッシュ通知、ダイレクトメール、Web、Social など）を通じてマーケティングキャンペーンを実施できます。

* **データベースコンテナ**

   リレーショナルデータベーステクノロジーに基づき、Adobe Campaignデータベースは、顧客の情報、キャンペーンコンポーネント、オファーおよびワークフローと、キャンペーンの結果を顧客データベースコンテナに格納します。

Adobe Campaignは、サービス指向アーキテクチャ (SOA) に基づいており、複数の機能モジュールで構成されています。 これらのモジュールは、拡張性、可用性、およびサービスの分離に関する制約に応じて、1 つまたは複数のインスタンスで 1 つ以上のコンピュータに展開できます。 したがって、展開構成の範囲は非常に広く、1 台の中央コンピュータから複数のサイトにわたる複数の専用サーバを含む構成にまで及びます。

>[!NOTE]
>
>ソフトウェアベンダーとして、互換性のあるハードウェアおよびソフトウェアインフラストラクチャを指定します。 ここで示すハードウェアの推奨事項は、情報提供だけを目的としたもので、当社の経験に基づいています。 Adobeは、これらに基づく決定に対して責任を負いません。 また、ビジネス・ルールとプラクティス、プロジェクトの重要度と必要なパフォーマンス・レベルにも依存します。

![](assets/s_ncs_install_architecture.png)

>[!CAUTION]
>
>特に明示的に記載されていない場合、Adobe Campaignプラットフォームのすべてのコンポーネントのインストール、更新、メンテナンスは、それらをホストするマシン管理者がおこないます。 これには、Adobe Campaignアプリケーションの前提条件の実装や、Campaign への準拠が含まれます [互換性マトリックス](../../rn/using/compatibility-matrix.md) コンポーネント間

## プレゼンテーションレイヤー {#presentation-layer}

アプリケーションには、ユーザーのニーズに応じて、様々な方法でアクセスできます。リッチクライアント、シンクライアント、または API 統合。

* **リッチクライアント**:アプリケーションの主なユーザーインターフェイスは、リッチなクライアント、つまり、Adobe Campaignアプリケーションサーバーと標準のインターネットプロトコル（SOAP、HTTP など）でのみ通信するネイティブアプリケーション (Windows) です。 このコンソールは、生産性に優れた使いやすさを提供し、（ローカルキャッシュを使用して）帯域幅をほとんど使用せず、簡単にデプロイできるように設計されています。 このコンソールは、インターネットブラウザーからデプロイでき、自動的に更新できます。HTTP(S) トラフィックのみを生成するので、特定のネットワーク設定は必要ありません。
* **シンクライアント**:HTMLの特定の部分には、レポートモジュール、配信承認ステージ、分散型マーケティングモジュール（セントラル/ローカル）の機能、インスタンス監視など、アプリケーションのユーザーインターフェイスを使用して、簡単な Web ブラウザーでアクセスできます。 このモードを使用すると、イントラネットまたはエクストラネットにAdobe Campaignの機能を含めることができます。
* **API を使用した統合**:場合によっては、SOAP プロトコルで公開された Web Services API を使用して、システムを外部アプリケーションから呼び出すことができます。

## 論理アプリケーションレイヤー {#logical-application-layer}

Adobe Campaign は、さまざまなアプリケーションを備えたプラットフォームです。それらのアプリケーションを組み合わせて、オープンで拡張性の高いアーキテクチャを構築できます。Adobe Campaignプラットフォームは、柔軟なアプリケーションレイヤーで記述され、企業のビジネスニーズに合わせて簡単に設定できます。 これにより、企業のニーズの拡大に、機能面でも技術面でも対応できます。 分散型のアーキテクチャであるため、メッセージの処理件数を数千から数百万へ拡張するなど、システムを線形的に拡張できます。

Adobe Campaignは、連携して動作する一連のサーバー側プロセスに依存しています。

主なプロセスは次のとおりです。

**アプリケーションサーバー**（nlserver web）

このプロセスは、Web サービス API（SOAP - HTTP + XML）経由で、Adobe Campaign のさまざまな機能を公開します。また、HTML ベースでアクセスできるよう、Web ページ（レポート、Web フォームなど）を動的に生成します。そのため、このプロセスには Apache Tomcat JSP サーバーが含まれています。 これは、コンソールが接続するプロセスです。

**ワークフローエンジン**（nlserver wfserver）

このプロセスは、アプリケーションで定義したワークフローを実行します。

次のような、定期的に実行するテクニカルワークフローも処理します。

* トラッキング：トラッキングログの復元と統合。リダイレクトサーバーからログを取得し、レポートモジュールで使用する集計インジケーターを作成します。
* クリーンアップ：データベースのクリーニング。 古いレコードを削除し、データベースが加速度的に肥大化するのを防ぎます。
* 請求：プラットフォームに関するアクティビティレポートの自動送信（データベースサイズ、マーケティングアクションの数、アクティブなプロファイルの数など）。

**配信サーバー**（nlserver mta）

Adobe Campaign には、メールをブロードキャストする機能がネイティブで備わっています。 このプロセスは、SMTP のメール転送エージェント（MTA）として機能します。メッセージを「一対一」でパーソナライズし、物理的に配信します。 配信ジョブを実行し、自動による再試行も処理します。さらに、トラッキングを有効にすると、URL が自動的に置き換えられ、リダイレクトサーバーを指すようになります。

このプロセスでは、SMS、FAX、ダイレクトメール用に、カスタマイズやサードパーティルータへの自動送信を処理できます。

**リダイレクトサーバー**（nlserver webmdl）

Adobe Campaign では、メールの開封とクリック追跡を自動的に処理できます（Web サイトレベルでのトランザクショントラッキングについては、今後の課題です）。 これを実現するため、メールメッセージに含まれる URL を書き換えて、このモジュールを指すようにします。このモジュールは、目的の URL にリダイレクトされる前に、そのインターネットユーザーが通過したことを登録します。

高可用性を確保するため、このプロセスはデータベースから独立しています。他のサーバープロセスとの通信には、SOAP 呼び出し（HTTP、HTTP(S) および XML）のみを使用します。 技術的には、この機能は HTTP サーバーの拡張モジュール（IIS の ISAPI 拡張、DSO Apache モジュールなど）に実装されており、Windows でのみ使用できます。

その他の技術的なプロセスも利用できます。

**バウンスメールの管理**（nlserver inMail）

このプロセスは、配信エラーによって返されたバウンスメッセージを、バウンスメッセージ受信用のメールボックスから自動的に取得します。 バウンスメッセージをルールベースで処理して配信エラーの原因（宛先不明、制限超過など）を特定し、データベース内の配信ステータスを更新します。

これらの動作は事前に設定されており、すべて自動でおこなわれます。

**SMS 配信ステータス**（nlserver sms）

このプロセスは、SMS ルータをポーリングして進行状況のステータスを収集し、データベースを更新します。

**ログメッセージの書き込み**（nlserver syslogd）

この技術プロセスは、他のプロセスで生成されたログメッセージとトレースを取得して、ハードディスクに書き込みます。 これにより、問題発生時の診断に使える十分な情報を取得します。

**トラッキングログの書き込み** (nlserver trackinglogd)

このプロセスは、リダイレクトプロセスによって生成されたトラッキングログをディスクに保存します。

**受信イベントの書き込み** (nlserver interactiond)

このプロセスは、インタラクションのフレームワークで発生するインバウンドイベントをディスクに記録します。

**監視モジュール**（nlserver watchodg）

このプロセスは、他の子プロセスを生成するメインプロセスとして機能します。 障害発生時には子プロセスの監視や再開を自動的に行うため、システムの稼働時間を最大限に維持できます。

**統計サーバー**（nlserver stat）

このプロセスは、接続数、送信メッセージ数（送信先メールサーバー別）、接続や送信の制限値（同時接続数の上限、1 時間あたりや 1 接続あたりのメッセージ数の上限）などの統計情報を保持します。同じパブリック IP アドレスを共有している場合は、複数のインスタンスやマシンを統合することもできます。

>[!NOTE]
>
>Adobe Campaignモジュールの完全なリストは、 [このドキュメント](../../production/using/operating-principle.md).

## 永続性レイヤー {#persistence-layer}

データベースは永続性レイヤーとして使用され、Adobe Campaignが管理する情報のほとんどが含まれます。 これには、 および作業データ（購入、リード）

タスクを実行するには、Adobe Campaignのコンポーネントの大部分がデータベースへのアクセスを必要とするので（リダイレクトモジュールの例外が顕著）、データベースの信頼性が最も重要です。

プラットフォームには、マーケティングを中心としたデータマートがあらかじめ定義されているか、主要なリレーショナルデータベース管理システム (RDBMS) を使用して既存のデータマートやスキーマに簡単に配置できます。 Adobe Campaignからデータベースへの SQL 呼び出しを介して、Adobe Campaignプラットフォームがデータマート内のすべてのデータにアクセスします。 Adobe Campaign には、ETL（抽出、変換、ロード）ツールを補完する機能も備わっており、システムとの間でのデータの読み込みと書き出しを実行することができます。
