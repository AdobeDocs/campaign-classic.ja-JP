---
solution: Campaign Classic
product: campaign
title: ワークフローヒートマップ
description: ワークフローヒートマップで Campaign ワークフローを監視する
audience: workflow
content-type: reference
topic-tags: use-cases
translation-type: ht
source-git-commit: d34435b0b8714a87add6a5e3f82e4f94376f205b
workflow-type: ht
source-wordcount: '1240'
ht-degree: 100%

---


# ワークフローヒートマップ {#workflow-heatmap}

Adobe Campaign ワークフローヒートマップは、現在実行中のすべてのワークフローを色分けしてグラフィカルに表現します。インスタンスの管理者のみが使用できます。

様々なキャンペーンプロセスを監視するその他の方法については、[このページ](../../production/using/monitoring-guidelines.md)で説明しています。

## ワークフローヒートマップについて {#about-the-workflow-heatmap}

並列ワークフロー数の概要をすばやく確認できるワークフローヒートマップを使用すれば、Adobe Campaign プラットフォームの管理者は、インスタンスの負荷を監視し、それに従ってワークフローを計画できます。

具体的には、プラットフォーム管理者は次のことをおこなえます。

* 並列ワークフローの確認と理解
* 持続時間別にワークフローをフィルターし、問題が発生する可能性のあるワークフローを確認
* 持続時間別にアクティビティをフィルターし、問題が発生する可能性のあるアクティビティを確認
* 個々のワークフローおよびすべての関連アクティビティを持続時間と合わせて容易に検索
* ワークフロータイプ（[テクニカルワークフロー](../../workflow/using/building-a-workflow.md#technical-workflows)または[キャンペーンワークフロー](../../workflow/using/building-a-workflow.md#campaign-workflows)）で検索
* 分析の対象となる特定のワークフローを探す

>[!NOTE]
>
>**ワークフローヒートマップ**&#x200B;に加え、一連のワークフローのステータスを監視してスーパーバイザーに定期的なメッセージを送信するワークフローを作成できます。詳しくは、[該当する節](../../workflow/using/supervising-workflows.md)を参照してください。

ワークフローヒートマップを使用するには、[ワークフロー](../../workflow/using/about-workflows.md)、[アクティビティ](../../workflow/using/about-activities.md)および[ワークフローのベストプラクティス](../../workflow/using/workflow-best-practices.md)の概念を十分に理解しておく必要があります。

ワークフローヒートマップは、Adobe Campaign の 18.10 リリースからデフォルトで使用できます。8700 から 8977（18.10）のビルドをご使用の場合も、この機能を利用できます。対応するパッケージをリクエストするには[アドビカスタマーケア](https://helpx.adobe.com/jp/enterprise/admin-guide.html/enterprise/using/support-for-experience-cloud.ug.html)にお問い合わせください。パッケージのインストール方法を理解するには、[このページ](https://helpx.adobe.com/jp/campaign/kb/install-workflow-heatmap-package.html)の指示に従ってください。

## ヒートマップの使用 {#using-the-heatmap}

>[!NOTE]
>
>管理権限を持つユーザーのみがキャンペーンワークフローヒートマップにアクセスできます。

1. **[!UICONTROL 監視]**&#x200B;に移動し、「**[!UICONTROL ワークフローヒートマップ]**」リンクをクリックして「**[!UICONTROL キャンペーンワークフローヒートマップ]**」ページを表示します。

   ![](assets/wkf_monitoring_path.png)

1. カレンダーをクリックして日付を選択します。

   デフォルトでは、このページには現在の日付のワークフローアクティビティが表示されます。日付は変更して過去の任意の日を選択できます。

   >[!NOTE]
   >
   >**[!UICONTROL データベースクリーンアップ]**&#x200B;ワークフローによって削除されていないワークフローのみが表示されます。データベースクリーンアップワークフローについて詳しくは、[この節](../../production/using/database-cleanup-workflow.md)を参照してください。\
   >デフォルトでは、ワークフローヒートマップのタイムゾーンは、現在の管理者ユーザーで指定されたタイムゾーンです。例えば、一緒に働いているマーケティングユーザーと同じ地域にいない場合には、この値を変更できます。

1. 「**[!UICONTROL フィルター]**」ボタンをクリックします。

   ![](assets/wkf_monitoring_filters.png)

1. スライダーを使用して、最低持続時間を 0 秒から 1 時間までの値に設定します。これにより、一定の秒数または分数を超えて実行されたワークフローのみを検索できます。

   ![](assets/wkf_monitoring_filters_duration.png)

1. 「**[!UICONTROL ワークフロー]**」リストから特定のワークフローを選択することもできます。

   ![](assets/wkf_monitoring_filters_workflows.png)

   >[!NOTE]
   >
   >「**[!UICONTROL 最低持続時間]**」フィルターも適用されます。特定のワークフローが見つからない場合は、「最低持続時間」を 0 に再設定して、すべてのワークフローがリストに表示されるようにします。

1. また、**[!UICONTROL ワークフロータイプ]**&#x200B;に基づいてフィルタリングすることも可能です。

   * **[!UICONTROL テクニカル]**：[標準のテクニカルワークフロー](../../workflow/using/building-a-workflow.md#technical-workflows)および[データ管理ワークフロー](../../workflow/using/targeting-data.md#data-management)のみが表示されます。
   * **[!UICONTROL マーケティング]**：[キャンペーンワークフロー](../../workflow/using/building-a-workflow.md#campaign-workflows)と呼ばれる、マーケティングキャンペーンにリンクされたワークフローのみが表示されます。

1. 特定のワークフローを名前で検索するには、「**[!UICONTROL ワークフロー名フィルター]**」フィールドも使用できます。

   ![](assets/wkf_monitoring_filters_name.png)

1. 一部のワークフローを編集した場合は、「**[!UICONTROL データを再読み込み]**」ボタンをクリックして、グリッドに表示されているデータを更新します。

## ヒートマップの読み取り {#reading-the-heatmap}

キャンペーンワークフローヒートマップは、グリッドの左上から右下に自然に読み取ることが可能で、緑から赤の色分けにより「ホットゾーン」を見つけられます。

* 濃い赤色のセルは、多数のワークフローが同時に実行されている期間に対応します。
* 灰色のセルは、ワークフローが実行されていない期間に対応します。

カラーコード適用の仕組みおよびヒートマップのナビゲーション方法を確認するには、「**[!UICONTROL ヘルプ]**」ボタンをクリックします。

![](assets/wkf_monitoring_legend.png)

各行が 1 日のうちの 1 時間を表し、各セルがその 1 時間の内の 5 分間を表します。

グリッドには、各 5 分の間に同時に実行されたすべてのワークフローが表示されます。

次の例では、午前 8 時から午前 8 時 5 分の間に、3 つのワークフローが実行されています（各ワークフローの持続時間は無関係）。

![](assets/wkf_monitoring_ex_8am.png)

1. 色付きのセルをクリックすると、その期間中に実行されたすべての並列ワークフローの詳細が表示されます。

   ![](assets/wkf_monitoring_details.png)

   各ワークフローおいて、ワークフローに含まれるすべてのアクティビティが持続時間と合わせて表示されます。

1. ワークフロー ID または名前をクリックすると、ワークフローを直接開けます。
1. 「**[!UICONTROL キャンペーンワークフローヒートマップ]**」ビューに戻るには、「**[!UICONTROL ホーム]**」ボタンをクリックします。

## 使用例：ヒートマップを使用した対策の実施 {#use-cases--using-the-heatmap-to-take-actions}

キャンペーンワークフローヒートマップが役立つ主な例は 2 つあります。

### 並列ワークフロー数の削減 {#reducing-the-number-of-concurrent-workflows}

ワークフローヒートマップは、キャンペーン管理者がインスタンスの負荷を把握し、適切な時間に既存または新規のワークフローを計画するのに役立ちます。

1. 「**[!UICONTROL キャンペーンワークフローヒートマップ]**」ビューで、「**[!UICONTROL フィルター]**」ボタンをクリックします。
1. 持続時間を、数秒または数分に設定します。
1. 持続時間フィルターを引き上げて、重要でない最短のワークフローを除外します。

   ![](assets/wkf_monitoring_short_duration.png)

1. 結果を調べてインスタンスの負荷を把握し、適切な対策を実施します。

   * パフォーマンスの問題が発生し、グリッドに 1 つまたは複数の赤いセルが表示される場合は、いくつかのワークフローの開始時間を変更することを検討してください。マーケティングユーザーに、忙しい「ホットな」時間から利用により適した時間枠に手動でワークフローを移動するよう依頼します。こうすることで、1 日をとおして安定した活動レベルを維持できます。
   * ピークを避け、インスタンスが過負荷にならないようにするには、新しいワークフローを計画する前にヒートマップを確認して最適な時間を選択します。新しいワークフローの開始には、グリッド内の灰色または緑のセルに対応するタイムスロットを検討します。

### パフォーマンスに影響を与える長期間実行されるワークフローの検索 {#finding-long-running-workflows-that-impact-performance}

キャンペーン管理者は、ワークフローヒートマップを使用することで、アクティビティの進行を遅らせる可能性のある最長のワークフローを見つけることができます。

1. 「**[!UICONTROL キャンペーンワークフローヒートマップ]**」ビューで、「**[!UICONTROL フィルター]**」ボタンをクリックします。
1. 持続時間を 1 時間に設定します。

   ![](assets/wkf_monitoring_long_duration.png)

1. 「**[!UICONTROL 最低持続時間]**」フィルターを引き下げれば、より多くの結果を得られます。
1. 結果を調べて最長のワークフローを見つけます。こうしたワークフローは、サーバーおよびデータベースのリソース（CPU、RAM、ネットワーク、IOPS など）に多大な影響を与える可能性があります。
1. 適切な対策を実施します。

   * マーケティングユーザーに、処理時間を短縮するため、最長のワークフローを分割するように通知します。
   * 特定のワークフローと特定のアクティビティ（JavaScript、インポート、エクスポートなど）に関する詳細な分析を開始し、問題部分を特定して容易に解決できるようにします。

## 例：ヒートマップを使用したワークフロー計画の改善 {#example--using-the-heatmap-to-improve-workflow-planning}

次の例は、Adobe Campaign ワークフローヒートマップを使用すると、計画作業の効率化およびパフォーマンス向上が実現できることを示します。

この例では、多くのユーザーがワークフローのパフォーマンスについて不満を持っています。何がアクティビティの速度を落としているのか、問題を解決する方法を確認する必要があります。

1. **[!UICONTROL 監視]**&#x200B;に移動し、「**[!UICONTROL ワークフロー]**」リンクをクリックして、「**[!UICONTROL キャンペーンワークフローヒートマップ]**」ページを表示します。
1. 「**[!UICONTROL 最低持続時間]**」フィルターを 5 分に設定します。
1. 「**[!UICONTROL ワークフロータイプ]**」フィルターを「**[!UICONTROL マーケティング]**」に設定します。
1. ヒートマップグリッドから、次のことが分かります。

   ![](assets/wkf_monitoring_without.png)

   * 午前 10 時に、50 個の長時間（5 分以上）かかるキャンペーンワークフローが実行されている
   * 大半は保留中の状態になっている（デフォルトの同時実行制限は 20 に設定）
   * 保留中のワークフローは、毎日手動で再開する必要がある
   * パフォーマンスが低い

1. 午前 10 時から 50 個のワークフローを開始する代わりに、1 日の他の時間帯にワークフローの開始時間を均等に配分します。
1. 「**[!UICONTROL キャンペーンワークフローヒートマップ]**」ページに戻り、「**[!UICONTROL データを再読み込み]**」ボタンをクリックします。
1. 次の点がわかります。

   ![](assets/wkf_monitoring_with.png)

   * 18 個の長時間かかるキャンペーンワークフローが、まだ午前 10 時に実行されている
   * 保留中の状態のワークフローはない（同時実行制限は引き続き 20 に設定されたまま）
   * ワークフローの開始時間は、1 日をとおして均等に配分
   * パフォーマンスの問題に対して不満を言うユーザーがいなくなる
