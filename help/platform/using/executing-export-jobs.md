---
product: campaign
title: エクスポートジョブの設定
description: Campaign でエクスポートジョブを設定および実行する方法について学ぶ
feature: Overview
badge-v8: label="v8 にも適用されます" type="Positive" tooltip="Campaign v8 にも適用されます"
audience: platform
content-type: reference
topic-tags: importing-and-exporting-data
exl-id: 94fc473a-dc49-41e8-b572-51c162b09996
source-git-commit: 9df46ed923831ffdfb28acddfbc371cecafb251c
workflow-type: tm+mt
source-wordcount: '1037'
ht-degree: 100%

---

# エクスポートジョブの設定 {#executing-export-jobs}



エクスポートジョブを使用すると、データベースにアクセスして連絡先、クライアント、リスト、セグメントなどのデータを抽出できます。

例えば、キャンペーントラッキングデータ（トラッキング履歴など）をスプレッドシート形式で使用すると便利な場合があります。出力データは、CSV、TAB、XML のいずれかの形式です。

エクスポートアシスタントでは、エクスポートの設定、オプションの定義、実行の開始を行うことができます。これは、エクスポートのタイプ（簡易または複数）やオペレーターの権限によって内容の異なる一連の画面です。

エクスポートアシスタントは、新しいエクスポートジョブを作成すると表示されます（[インポートジョブとエクスポートジョブの作成](../../platform/using/creating-import-export-jobs.md)を参照）。

## 手順 1 - エクスポートテンプレートの選択 {#step-1---choosing-the-export-template}

エクスポートアシスタントを起動するときは、まずテンプレートを選択する必要があります。例えば、最近登録した受信者のエクスポートを設定するには、以下の手順に従います。

1. **[!UICONTROL プロファイルとターゲット／ジョブ／一般的なインポートおよびエクスポート]**&#x200B;フォルダーを選択します。
1. 「**新規**」をクリックし、「**エクスポート**」をクリックして、エクスポートテンプレートを作成します。

   ![](assets/s_ncs_user_export_wizard01.png)

1. 「**[!UICONTROL エクスポートテンプレート]**」フィールドの右側にある矢印をクリックしてテンプレートを選択するか、「**[!UICONTROL リンクを選択]**」をクリックしてツリーを参照します。

   ネイティブテンプレートは、「**[!UICONTROL 新しいテキストのエクスポート]**」です。このテンプレートは変更できませんが、このテンプレートを複製して新しいテンプレートを設定することができます。エクスポートテンプレートは、デフォルトで、**[!UICONTROL リソース／テンプレート／ジョブテンプレート]**&#x200B;ノードに保存されます。

1. 「**[!UICONTROL ラベル]**」フィールドに、エクスポートの名前を入力します。説明を追加できます。
1. エクスポートタイプを選択します。利用できるエクスポートタイプは 2 つあります。1 つのファイルのみをエクスポートする「**[!UICONTROL 簡易エクスポート]**」と、1 つ以上のタイプのソースドキュメントから 1 回の実行で複数のファイルをエクスポートする「**[!UICONTROL 複数エクスポート]**」です。

## 手順 2 - エクスポートするファイルのタイプ {#step-2---type-of-file-to-export}

エクスポートするドキュメントのタイプ、つまりエクスポートするデータのスキーマを選択します。

デフォルトでは、エクスポートが「**[!UICONTROL ジョブ]**」ノードから開始された場合、データは受信者テーブルから取得されます。エクスポートがデータのリストから開始された場合（**[!UICONTROL 右クリック／エクスポート]**&#x200B;メニュー）、データが属するテーブルが自動的に「**[!UICONTROL ドキュメントタイプ]**」フィールドに入力されます。

![](assets/s_ncs_user_export_wizard02.png)

* デフォルトでは、「**[!UICONTROL エクスポート後にサーバーで生成されたファイルをダウンロードする]**」オプションが選択されています。「**[!UICONTROL ローカルファイル]**」フィールドで、作成するファイルの名前とパスを入力するか、フィールドの右側にあるフォルダーをクリックしてローカルディスクを参照します。このオプションの選択を解除して、サーバー出力ファイルのアクセスパスと名前を入力できます。

  >[!NOTE]
  >
  >自動インポートおよびエクスポートジョブは、常にサーバーで実行されます。
  >
  >データの一部のみをエクスポートするには、「**[!UICONTROL 詳細設定パラメーター]**」をクリックし、エクスポートするライン数を該当するフィールドに入力します。

* 差分エクスポートを作成して、最終実行以降に変更されたレコードのみをエクスポートできます。そのためには、「**[!UICONTROL 詳細設定パラメーター]**」リンクをクリックし、「**[!UICONTROL 差分エクスポート]**」タブをクリックして、「**[!UICONTROL 差分エクスポートを有効化します]**」を選択します。

  ![](assets/s_ncs_user_export_wizard02_b.png)

  前回の変更日を入力する必要があります。前回の変更日は、フィールドから取得するか、計算できます。

## 手順 3 - 出力フォーマットの定義 {#step-3---defining-the-output-format}

エクスポートファイルの出力フォーマットを選択します。テキスト、固定列テキスト、CSV および XML フォーマットを使用できます。

![](assets/s_ncs_user_export_wizard03.png)

* 「**[!UICONTROL テキスト]**」フォーマットの場合、列を区切る区切り記号（タブ、コンマ、セミコロンまたはカスタム）および文字列を区切る区切り記号（シングルコーテーション、ダブルコーテーションまたはなし）を選択します。
* 「**[!UICONTROL テキスト]**」および「**[!UICONTROL CSV]**」の場合、オプション「**[!UICONTROL 先頭行を列ヘッダーとして使用]**」を選択できます。
* 日付フォーマットおよび数字のフォーマットを指定します。そのためには、該当するフィールドの「**[!UICONTROL 編集]**」ボタンをクリックし、エディターを使用します。
* 列挙値が含まれるフィールドの場合、「**[!UICONTROL 列挙の内部値の代わりにラベルをエクスポート]**」を選択できます。例えば、タイトルは **1=Mr.**、**2=Miss**、**3=Mrs. というフォームで保存できます。**.このオプションを選択した場合、**Mr.**、**Miss** および **Mrs.** がエクスポートされます。

## 手順 4 - データの選択 {#step-4---data-selection}

エクスポートするフィールドを選択します。手順は次のとおりです。

1. 「**[!UICONTROL 出力列]**」セクションに追加するために、「**[!UICONTROL 使用可能フィールド]**」リストで目的のフィールドをダブルクリックします。
1. リストの右側にある矢印を使用して、出力ファイルでのフィールドの順序を定義します。

   ![](assets/s_ncs_user_export_wizard04.png)

1. 関数を呼び出すには、**[!UICONTROL 追加]**&#x200B;ボタンをクリックします。詳しくは、[関数のリスト](../../platform/using/about-queries-in-campaign.md)を参照してください。

## 手順5 - 列の並べ替え {#step-5---sorting-columns}

列の並べ替え順を選択します。

![](assets/s_ncs_user_export_wizard05.png)

## 手順 6 - フィルター条件 {#step-6---filter-conditions-}

フィルター条件を追加して、すべてのデータがエクスポートされないようにすることができます。このフィルターの設定は、配信アシスタントにおける受信者のターゲティングと同じです。[このページ](../../delivery/using/steps-defining-the-target-population.md)を参照してください。

![](assets/s_ncs_user_export_wizard05_b.png)

## 手順 7 - データのフォーマット設定 {#step-7---data-formatting}

出力ファイルのフィールドの順序およびラベルを変更し、ソースデータに変換を適用できます。

* エクスポートする列の順序を変更するには、該当する列を選択し、テーブルの右側の青色の矢印を使用します。
* フィールドのラベルを変更するには、変更するフィールドに対応する「**[!UICONTROL ラベル]**」列のセル内をクリックし、新しいラベルを入力します。キーボードの Enter キーを押して確定します。
* フィールドのコンテンツに大文字と小文字の変換を適用するには、「**[!UICONTROL 変換]**」列で選択します。次の項目を選択できます。

   * 小文字に切り替え
   * 大文字に切り替え
   * 最初の文字は大文字

  ![](assets/s_ncs_user_export_wizard06.png)

* 新しい計算フィールド（姓 + 名を含む列など）を作成する場合は、**[!UICONTROL 計算フィールドを追加]**&#x200B;をクリックします。詳しくは、[集計フィールド](../../platform/using/executing-import-jobs.md#calculated-fields)を参照してください。

要素のコレクション（受信者の購読、受信者が属するリストなど）をエクスポートする場合は、エクスポートするコレクション内の要素数を指定する必要があります。

![](assets/s_ncs_user_export_wizard06_c.png)

## 手順 8 - データのプレビュー {#step-8---data-preview}

エクスポート結果をプレビューするには、「**[!UICONTROL データのプレビューを開始]**」をクリックします。デフォルトでは、最初の 200 ラインが表示されます。この値を変更するには、「**[!UICONTROL 表示するライン]**」フィールドの右側にある矢印をクリックします。

![](assets/s_ncs_user_export_wizard07.png)

アシスタントの下部にあるタブをクリックして、結果のプレビューを列表示から XML に切り替えます。また、生成された SQL クエリを表示することもできます。

## 手順 9 - エクスポートの開始 {#step-9---launching-the-export}

「**[!UICONTROL 開始]**」をクリックしてデータのエクスポートを開始します。

![](assets/s_ncs_user_export_wizard08.png)

その後、インポートジョブの実行を監視できます（[ジョブの実行の監視](../../platform/using/monitoring-jobs-execution.md)を参照）。
