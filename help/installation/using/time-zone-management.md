---
solution: Campaign Classic
product: campaign
title: タイムゾーン管理
description: タイムゾーン管理
audience: installation
content-type: reference
topic-tags: additional-configurations
translation-type: tm+mt
source-git-commit: 972885c3a38bcd3a260574bacbb3f507e11ae05b
workflow-type: tm+mt
source-wordcount: '905'
ht-degree: 1%

---


# タイムゾーン管理{#time-zone-management}

## 動作の仕組み {#operating-principle}

Adobe Campaignを使用すると、日付をタイムゾーンの関数として表すことができます。これにより、国際的なユーザーは世界中の様々なタイムゾーンで作業を行うことができます。 同じインスタンスを使用する各国で、キャンペーンの実行、追跡、アーカイブなどを管理できます。 ローカル時間に応じて異なります。

Adobe Campaignプラットフォームの使用を国際的な規模で有効にするには、システムが使用するすべての日付がタイムゾーンにリンク可能である必要があります。 したがって、タイムゾーンが既知の日付は、他のタイムゾーンにインポートすることも、タイムゾーンに関係なくインポートすることもできます。

Adobe Campaignを使用すると、日付/時刻をUTC（協定世界時）形式で格納できます。 データが公開されると、演算子のローカルな日付/時間に変換されます。 変換は、データベースがUTCで設定されると自動的に実行されます（[設定](#configuration)を参照）。 データベースがUTCで設定されていない場合、プラットフォーム内の日付のタイムゾーンに関する情報は、オプションに格納されます。

タイムゾーン管理に関する主なプラットフォーム機能は次のとおりです。データおよび演算子とワークフロー管理の読み込み/書き出し。 **継承の概念**&#x200B;は、インポート/エクスポートまたはワークフローで使用できます。 デフォルトでは、これらのタイムゾーンはデータベースサーバーのタイムゾーンに設定されますが、ワークフローや単一のアクティビティに対しても、新しいタイムゾーンを再定義できます。

**オペレ** ータは、 **配信の** 設定時にタイムゾーンを変更し、配信を実行する特定のタイムゾーンを指定できます。

>[!IMPORTANT]
>
>データベースが複数のタイムゾーンを管理していない場合は、すべてのデータフィルタリング操作に対して、SQLクエリをデータベースサーバーのタイムゾーンで実行する必要があります。

各Adobe Campaign演算子はタイムゾーンにリンクされています。この情報は、ユーザーのプロファイルで設定されます。 詳しくは、[このドキュメント](../../platform/using/access-management.md)を参照してください。

Adobe Campaignプラットフォームでタイムゾーン管理が不要な場合は、特定のタイムゾーンを含むストレージモードをローカルフォーマットに保つことができます。

## 推奨事項 {#recommendations}

タイムゾーンには、次のようないくつかの現実が組み合わされています。式は、UTCの日付と一定の時間差、または年に2回（夏時間）時間が変わる地域の時間を表すことができます。

たとえば、PostgreSQLでは、**SET TIME ZONE &#39;Europe/Paris&#39;;**&#x200B;コマンドは、夏と冬の時間を考慮に入れます。日付は、年の時刻に応じてUTC+1またはUTC+2で表されます。

ただし、**SET TIME ZONE 0200;**&#x200B;コマンドを使用する場合、タイムラグは常にUTC+2になります。

## 設定 {#configuration}

日付と時刻のストレージモードは、データベースの作成時に選択されます（[新しいインスタンスの作成](#creating-a-new-instance)を参照）。 移行の場合は、日付にリンクされた時間が現地の日付と時間に変換されます（[移行](#migration)を参照）。

技術的な表示点から、**Date+time**&#x200B;型の情報をデータベースに格納する方法は2通りあります。

1. TIMESTAMP WITH TIMEZONE FORMAT:データベースエンジンは、日付をUTCで格納します。 開かれた各セッションにはタイムゾーンが設定され、それに従って日付が変換されます。
1. ローカル形式+ローカルタイムゾーン：すべての日付がローカル形式（タイムラグ管理なし）で保存され、それらに単一のタイムゾーンが割り当てられます。 タイムゾーンは、Adobe Campaignインスタンスの&#x200B;**WdbcTimeZone**&#x200B;オプションに保存され、ツリーの&#x200B;**[!UICONTROL 管理/プラットフォーム/オプション]**&#x200B;メニューを使用して変更できます。

>[!IMPORTANT]
>
>この変更により、データの一貫性と同期の問題が発生する可能性があることに注意してください。

### 新しいインスタンス{#creating-a-new-instance}を作成しています

複数の国際ユーザーが同じインスタンスで作業できるようにするには、国間の時間差を管理するインスタンスを作成する際に、タイムゾーンを設定する必要があります。 インスタンスの作成時に、データベース設定段階の&#x200B;**[!UICONTROL タイムゾーン]**&#x200B;セクションで日付と時刻の管理モードを選択します。

すべてのデータを日時と共にUTC形式（SQLフィールドおよびXMLフィールド）で格納するには、**[!UICONTROL UTCデータベース（タイムゾーンのある日付フィールド）]**&#x200B;オプションを確認します。

![](assets/install_wz_select_utc_option.png)

>[!IMPORTANT]
>
>**Oracle**&#x200B;を使用する場合、Oracleクライアント層のタイムゾーンファイル(.dat)は、サーバーにインストールされているタイムゾーンファイルと互換性がある必要があります。

データベースがUTCでない場合は、ドロップダウンリストで提供されるタイムゾーンの1つを選択できます。 サーバーのタイムゾーンを使用することも、「UTC（協定世界時）」オプションを選択することもできます。

![](assets/install_wz_unselect_utc_option.png)

**[!UICONTROL UTC Database（タイムゾーンのある日付フィールド）]**&#x200B;オプションが選択されている場合、SQLフィールドはTIMESTAMP WITH TIMEZONE形式で保存されます。

それ以外の場合は、ローカル形式で保存されるので、データベースに適用するタイムゾーンを選択する必要があります。

### 移行{#migration}

タイムゾーン管理を使用せずに以前のバージョンに移行する場合は、データベースで日付ストレージモードを定義する必要があります。

Adobe Campaignデータベースにアクセスする外部ツールとの互換性を保証するため、デフォルトでは、**Date+time**&#x200B;型のSQLフィールドはローカルフォーマットで保存されます。

日付を含むXMLフィールドは、現在はUTCで保存されます。 読み込み中、UTC形式ではないフィールドは、サーバーのタイムゾーンを使用して自動的に変換されます。 つまり、すべてのXMLフィールドは、UTC形式にプログレッシブに変換されます。

既存のインスタンスを使用するには、**WdbcTimeZone**&#x200B;オプションを追加し、インスタンスのタイムゾーンを入力します。

>[!IMPORTANT]
>
>WdbcTimeZoneオプションに正しい値が構成されていることを確認してください：後で行う変更は、矛盾を引き起こす可能性がある。

可能な値の例：

* Europe/Paris,
* ヨーロッパ / ロンドン,
* America/New_Yorkなど

   これらの値は、tz(Olson)データベースから取得されます。 詳しくは、[https://en.wikipedia.org/wiki/List_of_tz_database_time_zones](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones)を参照してください。

