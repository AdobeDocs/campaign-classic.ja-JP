---
product: campaign
title: メンテナンスのタイプ
description: メンテナンスのタイプ
audience: production
content-type: reference
topic-tags: database-maintenance
exl-id: 08e179aa-fd83-4c0a-879e-ab7aec168d92
source-git-commit: 20509f44c5b8e0827a09f44dffdf2ec9d11652a1
workflow-type: tm+mt
source-wordcount: '494'
ht-degree: 2%

---

# メンテナンスのタイプ{#types-of-maintenance}

![](../../assets/v7-only.svg)

## アプリケーションメンテナンス {#application-maintenance}

Adobe Campaignには、特定のデータベースメンテナンスタスクをスケジュールできる組み込みのワークフローが用意されています。**データベースクリーンアップワークフロー**。 このワークフローでは、次のタスクを実行します。

* 期限切れレコードの削除
* 孤立したレコードの削除と期限切れオブジェクトのステータス再初期化
* データベース統計を更新する。

>[!IMPORTANT]
>
>クリーンアップタスクは、RDBMS レベルのメンテナンス（統計の更新を除く）ではなく、主にアプリケーションレベルのメンテナンスを扱うことに注意してください。 ただし、データベースでメンテナンス操作が必要になります。 データベースクリーンアップワークフローが正常に実行された場合でも、データベースが最適に調整されているわけではありません。

## 技術保守 {#technical-maintenance}

データベースクリーンアップワークフローには、データベースメンテナンスツールは含まれていません。メンテナンスを整理するのはあなた次第です。 これをおこなうには、次のいずれかを実行します。

* データベース管理者と協力して、サードパーティのツールとのデータベースメンテナンスを設定します。
* Adobe Campaignワークフローエンジンを使用して、これらのメンテナンスアクティビティをスケジュールし、追跡します。

これらのメンテナンス手順は、定期的に実行する必要があり、次の手順を含める必要があります。

* 頻繁に更新されるテーブルの再インデックス
* テーブルを圧縮/再構築して、断片化を回避します。

### メンテナンススケジュール {#maintenance-schedule}

これらのメンテナンス作業を実行するための適切なスロットを見つける必要があります。 実行中にデータベースのパフォーマンスに大きな影響を与えたり、（ロックによって）アプリケーションをブロックしたりする可能性があります。

これらのタスクは通常、低アクティビティの期間中に週に 1 回実行され、バックアップ、データの再読み込み、集計の計算とは衝突しません。 高い望みを持つシステムの中には、より頻繁なメンテナンスが必要なものもあります。

フル・テーブルの再構築など、より詳細なメンテナンスは月に 1 回実行できます。システムが使用できないため、望ましくはアプリケーションを完全に停止した状態で実行できます。

### テーブルの再構築 {#rebuilding-a-table}

いくつかの戦略を使用できます。

<table> 
 <thead> 
  <tr> 
   <th> 運用 </th> 
   <th> 説明 </th> 
   <th> 利点 </th> 
   <th> 欠点 </th> 
  </tr> 
 </thead> 
 <tbody> 
  <tr> 
   <td> オンラインでの最適化 <br /> </td> 
   <td> ほとんどのデータベースエンジンは最適化方法を提供しています。<br /> </td> 
   <td> 単にデータベースの最適化方法を使用します。 これらの方法は、通常、最適化中にデータをロックすることで整合性の問題を処理します。<br /> </td> 
   <td> データベースによっては、これらの最適化方法は RDBMS のOracleとして提供され、大きなテーブルを処理する最も効率的な方法とは限りません。<br /> </td> 
  </tr> 
  <tr> 
   <td> ダンプと復元 <br /> </td> 
   <td> テーブルをファイルにダンプし、データベース内のテーブルを削除して、ダンプから復元します。<br /> </td> 
   <td> これは、テーブルを最適化する最も簡単な方法です。 また、データベースがほぼ満杯の場合の唯一の解決策です。<br /> </td> 
   <td> テーブルは削除され、再作成されるので、読み取り専用モードでも、アプリケーションをオンラインのままにすることはできません（リストア段階ではテーブルは使用できません）。<br /> </td> 
  </tr> 
  <tr> 
   <td> 複製、名前変更、ドロップ <br /> </td> 
   <td> これにより、テーブルとそのインデックスのコピーが作成され、既存のテーブルを削除し、コピーの名前を変更してその代わりに使用します。<br /> </td> 
   <td> この方法は、IO が少ない（ファイルとしてのコピーはなく、このファイルから読み取る）ため、最初の方法よりも高速です。<br /> </td> 
   <td> 2 倍の容量が必要です。<br /> プロセス中にテーブルに書き込むアクティブなプロセスはすべて停止する必要があります。ただし、読み取りプロセスは影響を受けません。テーブルは再構築後に最後の時点で入れ替えられるからです。<br /> </td> 
  </tr> 
 </tbody> 
</table>
