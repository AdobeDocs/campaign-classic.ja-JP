---
product: campaign
title: Campaign Classicの一般的なアーキテクチャ
description: Campaign Classicのインストールおよび設定方法を学ぶ
feature: Installation, Architecture
audience: installation
content-type: reference
topic-tags: architecture-and-hosting-models
exl-id: 04e6dc17-427b-4745-84cc-bf45c03dbf81
source-git-commit: b666535f7f82d1b8c2da4fbce1bc25cf8d39d187
workflow-type: tm+mt
source-wordcount: '1342'
ht-degree: 50%

---

# 一般的なアーキテクチャ{#general-architecture}



一般的な Adobe Campaign ソリューションのデプロイメントは、次のコンポーネントで構成されます。

* **パーソナライズされたクライアント環境**

  ユーザーがマーケティングオファーの通信と追跡、キャンペーンの作成、すべてのマーケティングアクティビティ、プログラムとプラン（E メール、ワークフロー、ランディングページを含む）の確認と管理、顧客プロファイルの作成と管理、顧客オーディエンスタイプの定義を行える直感的なグラフィカルインターフェイス。

* **開発環境**

  サーバーサイドのソフトウェア。ユーザーインターフェイスで定義するルールとワークフローに基づき、選択したコミュニケーションチャネル（メール、SMS、プッシュ通知、ダイレクトメール、Web、Social など）を通じてマーケティングキャンペーンを実施できます。

* **データベースコンテナ**

  Adobe Campaign データベースは、リレーショナルデータベース技術を活用して、すべての顧客情報、キャンペーンの構成要素、オファー、ワークフロー、キャンペーンの結果などを顧客のデータベースコンテナに格納します。

Adobe Campaignは、サービス指向アーキテクチャ（SOA）に基づいており、複数の機能モジュールで構成されます。 これらのモジュールは、スケーラビリティ、可用性、サービスの分離などの制約に応じて、1 台以上のコンピューターに 1 つまたは複数のインスタンスでデプロイできます。 したがって、デプロイメント設定の範囲は非常に広く、1 台の中央コンピューターから、複数のサイトにまたがる複数の専用サーバーを含む設定まで多岐にわたります。

>[!NOTE]
>
>ソフトウェアベンダーとして、互換性のあるハードウェアとソフトウェアインフラストラクチャを指定します。 ここに記載されているハードウェアの推奨事項は情報提供のみを目的としており、アドビの経験に基づいています。 Adobeは、これらに基づいてなされたいかなる決定についても責任を負わないものとします。 また、プロジェクトのビジネスルールと手法、重要度と必要なパフォーマンスレベルにも依存します。

![](assets/s_ncs_install_architecture.png)

>[!CAUTION]
>
>特に明記されていない限り、Adobe Campaign プラットフォームのすべてのコンポーネントのインストール、更新およびメンテナンスは、それらをホストするマシン管理者の責任です。 これには、Adobe Campaign アプリケーションの前提条件の実装や、Campaign への準拠が含まれます [互換性マトリックス](../../rn/using/compatibility-matrix.md) コンポーネント間。

## プレゼンテーションレイヤー {#presentation-layer}

アプリケーションには、ユーザーのニーズに応じて、リッチクライアント、シンクライアント、API 統合など、様々な方法でアクセスできます。

* **リッチクライアント**：アプリケーションの主要なユーザーインターフェイスは、リッチクライアントです。これはネイティブアプリケーション（Windows）であり、Adobe Campaign アプリケーションサーバーと標準のインターネットプロトコル（SOAP、HTTP など）で通信します。 このコンソールは、生産性に優れた使いやすさを備え、帯域幅をほとんど使用せず（ローカルキャッシュを使用）、デプロイメントが容易になるよう設計されています。 このコンソールはインターネットブラウザーからデプロイし、自動的に更新できます。発生するトラフィックは HTTP （S）のみであり、特別なネットワーク設定は不要です。
* **シンクライアント**：アプリケーションの特定の機能（レポートモジュール、配信の承認段階、分散型マーケティングモジュール（セントラル/ローカル）の機能、インスタンスのモニタリングなど）へは、HTMLのユーザーインターフェイスを使用してシンプルな web ブラウザーからアクセスできます。 これにより、Adobe Campaignの機能をイントラネットやエクストラネットに組み込むことができます。
* **API を使用した統合**:SOAP プロトコルで公開されている Web サービス API を使用して、外部のアプリケーションからシステムを呼び出すこともできます。

## 論理アプリケーションレイヤー {#logical-application-layer}

Adobe Campaign は、さまざまなアプリケーションを備えたプラットフォームです。それらのアプリケーションを組み合わせて、オープンで拡張性の高いアーキテクチャを構築できます。Adobe Campaign プラットフォームは、柔軟なアプリケーションレイヤーで記述されており、会社のビジネスニーズに合わせて簡単に設定できます。 これは、機能的観点からも、技術的観点からも、企業の高まるニーズに対応するものです。 分散型のアーキテクチャであるため、メッセージの処理件数を数千から数百万へ拡張するなど、システムを線形的に拡張できます。

Adobe Campaignは、連携する一連のサーバーサイドプロセスに依存しています。

主なプロセスは次のとおりです。

**アプリケーションサーバー**（nlserver web）

このプロセスは、Web サービス API（SOAP - HTTP + XML）経由で、Adobe Campaign のさまざまな機能を公開します。また、HTML ベースでアクセスできるよう、Web ページ（レポート、Web フォームなど）を動的に生成します。そのため、このプロセスには Apache Tomcat JSP サーバーが含まれています。これは、コンソールが接続するプロセスです。

**ワークフローエンジン**（nlserver wfserver）

このプロセスは、アプリケーションで定義したワークフローを実行します。

次のような、定期的に実行するテクニカルワークフローも処理します。

* トラッキング：トラッキングログの復元と統合。リダイレクトサーバーからログを取得し、レポートモジュールで使用する集計インジケーターを作成します。
* クリーンアップ：データベースのクリーニング。 古いレコードを削除し、データベースが加速度的に肥大化するのを防ぎます。
* 請求：プラットフォームのアクティビティレポート（データベースのサイズ、マーケティングアクションの数、アクティブなプロファイルの数など）の自動送信。

**配信サーバー**（nlserver mta）

Adobe Campaign には、メールをブロードキャストする機能がネイティブで備わっています。 このプロセスは、SMTP のメール転送エージェント（MTA）として機能します。メッセージを「一対一」でパーソナライズし、物理的に配信します。 配信ジョブを実行し、自動による再試行も処理します。さらに、トラッキングを有効にすると、URL が自動的に置き換えられ、リダイレクトサーバーを指すようになります。

このプロセスでは、SMS、FAX、ダイレクトメール用に、カスタマイズやサードパーティルータへの自動送信を処理できます。

**リダイレクトサーバー**（nlserver webmdl）

Adobe Campaign では、メールの開封とクリック追跡を自動的に処理できます（Web サイトレベルでのトランザクショントラッキングについては、今後の課題です）。 これを実現するため、メールメッセージに含まれる URL を書き換えて、このモジュールを指すようにします。このモジュールは、目的の URL にリダイレクトされる前に、そのインターネットユーザーが通過したことを登録します。

高可用性を確保するため、このプロセスはデータベースから独立しています。他のサーバープロセスとの通信には、SOAP 呼び出し（HTTP、HTTP(S) および XML）のみを使用します。 技術的には、この機能は HTTP サーバーの拡張モジュール（IIS の ISAPI 拡張、DSO Apache モジュールなど）に実装されており、Windows でのみ使用できます。

その他の技術的なプロセスも利用できます。

**バウンスメールの管理**（nlserver inMail）

このプロセスは、配信エラーによって返されたバウンスメッセージを、バウンスメッセージ受信用のメールボックスから自動的に取得します。 バウンスメッセージをルールベースで処理して配信エラーの原因（宛先不明、制限超過など）を特定し、データベース内の配信ステータスを更新します。

これらの動作は事前に設定されており、すべて自動でおこなわれます。

**SMS 配信ステータス**（nlserver sms）

このプロセスは、SMS ルータをポーリングして進行状況のステータスを収集し、データベースを更新します。

**ログメッセージの書き込み**（nlserver syslogd）

この技術プロセスは、他のプロセスで生成されたログメッセージとトレースを取得して、ハードディスクに書き込みます。 これにより、問題発生時の診断に使える十分な情報を取得します。

**トラッキングログの書き込み** (nlserver trackinglogd)

このプロセスは、リダイレクトプロセスによって生成されたトラッキングログをディスクに保存します。

**受信イベントの書き込み** (nlserver interactiond)

このプロセスは、インタラクションのフレームワークで発生するインバウンドイベントをディスクに記録します。

**監視モジュール**（nlserver watchodg）

このプロセスは、他の子プロセスを生成するメインプロセスとして機能します。 障害発生時には子プロセスの監視や再開を自動的に行うため、システムの稼働時間を最大限に維持できます。

**統計サーバー**（nlserver stat）

このプロセスは、接続数、送信メッセージ数（送信先メールサーバー別）、接続や送信の制限値（同時接続数の上限、1 時間あたりや 1 接続あたりのメッセージ数の上限）などの統計情報を保持します。同じパブリック IP アドレスを共有している場合は、複数のインスタンスやマシンを統合することもできます。

>[!NOTE]
>
>Adobe Campaign モジュールの完全なリストは、次の場所で入手できます [このドキュメント](../../production/using/operating-principle.md).

## 永続性レイヤー {#persistence-layer}

このデータベースは永続性レイヤーとして使用され、Adobe Campaignが管理するほとんどすべての情報が含まれています。 これには、機能データ（プロファイル、サブスクリプション、コンテンツなど）、技術データ（配信ジョブ、配信ログ、トラッキングログなど）、の両方が含まれます および作業データ（購入、リード）です。

タスクを実行するにはAdobe Campaignのコンポーネントの大部分がデータベースへのアクセスを必要とするので（リダイレクトモジュールを除く）、データベースの信頼性が最も重要です。

プラットフォームには、マーケティング中心のデータマートが事前定義されているか、主要なリレーショナルデータベース管理システム（RDBMS）を使用して既存のデータマートやスキーマの上に簡単に配置できます。 Adobe Campaign プラットフォームは、Adobe Campaignからデータベースへの SQL 呼び出しを介して、データマート内のすべてのデータにアクセスします。 Adobe Campaign には、ETL（抽出、変換、ロード）ツールを補完する機能も備わっており、システムとの間でのデータの読み込みと書き出しを実行することができます。
