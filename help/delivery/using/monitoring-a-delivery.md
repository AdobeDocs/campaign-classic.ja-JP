---
title: 配信の監視
seo-title: 配信の監視
description: 配信の監視
seo-description: null
page-status-flag: never-activated
uuid: 7cb409eb-a01c-4b4d-bb62-760e0bafdc8a
contentOwner: sauviat
products: SG_CAMPAIGN/CLASSIC
audience: delivery
content-type: reference
topic-tags: monitoring-deliveries
discoiquuid: 3aab3d47-76fd-4c68-add4-9c14240c936e
index: y
internal: n
snippet: y
translation-type: tm+mt
source-git-commit: 51bbf50a1e9b00c25fca8e1e86ca21c314c18313
workflow-type: tm+mt
source-wordcount: '2674'
ht-degree: 97%

---


# 配信の監視{#monitoring-a-delivery}

**配信ダッシュボード**&#x200B;は、配信と、メッセージの送信時に結果として起こる問題を監視するための重要な要素です。

**関連トピック：**

* [配信エラーの理解](../../delivery/using/understanding-delivery-failures.md)
* [強制隔離管理の理解](../../delivery/using/understanding-quarantine-management.md)
* [配信のベストプラクティス](../../delivery/using/delivery-best-practices.md)
* [配信品質の管理](../../delivery/using/about-deliverability.md)

## 配信ダッシュボード {#delivery-dashboard}

配信に関する情報を確認するには、配信を編集し、ダッシュボードを表示して、使用可能なタブをクリックします。

配信を送信すると、タブのコンテンツが変わらなくなることがあります。

![](assets/s_ncs_user_del_details.png)

### 配信の概要 {#delivery-summary}

「**[!UICONTROL 概要]**」タブには、配信ステータス、使用するチャネル、送信者に関する情報、件名、実行に関連する情報など、配信の内容が表示されます。詳しくは、[送信されたメッセージ数](#number-of-messages-sent)を参照してください。

「**[!UICONTROL レポート]**」リンクを使用して、配信アクションに関する一連のレポート（一般的な配信レポート、詳細レポート、配信レポート、失敗したメッセージの分布、開封率、クリック数とトランザクション数など）を見ることができます。このタブのコンテンツは、要件に応じて設定できます。詳しくは、[この節](../../reporting/using/delivery-reports.md)を参照してください。

### 配信ログと履歴 {#delivery-logs-and-history}

「**[!UICONTROL 配信]**」タブには、この配信内で発生した事象の履歴が表示されます。このタブには、配信ログ、つまり、送信されたメッセージのリストとそのステータスおよび関連メッセージが含まれます。

1 つの配信について、（例えば）配信が失敗した受信者や、アドレスが強制隔離中の受信者のみを表示できます。そのためには、「**[!UICONTROL フィルター]**」ボタンをクリックして、「**[!UICONTROL ステータス別]**」を選択します。ドロップダウンリストでステータスを選択します。

![](assets/s_ncs_user_delivery_delivery_tab.png)

各種ステータスについて詳しくは、[このページ](#delivery-statuses)を参照してください。

>[!NOTE]
>
>「**[!UICONTROL このメッセージのミラーページを表示]**」リンクを使用して、リストから選択した配信のコンテンツのミラーページを新しいウィンドウに表示できます。ミラーページは、HTML コンテンツが定義済みの配信に対してのみ表示可能です。詳しくは、[ミラーページの生成](../../delivery/using/sending-messages.md#generating-the-mirror-page)を参照してください。

### トラッキングログ {#tracking-logs}

「**[!UICONTROL トラッキング]**」タブには、この配信のトラッキング履歴が一覧表示されます。このタブには、送信されたメッセージのトラッキングデータ、つまり、Adobe Campaign によってトラッキングされたすべての URL が表示されます。トラッキングデータは 1 時間ごとに更新されます。

>[!NOTE]
>
>配信に対してトラッキングが有効ではない場合、このタブは表示されません。

トラッキング設定は、配信ウィザードの適切なステージで実行されます。[トラッキングするリンクの設定方法](../../delivery/using/how-to-configure-tracked-links.md)を参照してください。

**[!UICONTROL トラッキング]**&#x200B;データは、配信レポートに表示されます。[この節](../../reporting/using/delivery-reports.md)を参照してください。

![](assets/s_ncs_user_delivery_tracking_tab.png)

### 配信監査 {#delivery-audit-}

「**[!UICONTROL 監査]**」タブには、配信ログと、配達確認に関連するすべてのメッセージが含まれます。**[!UICONTROL 更新]**&#x200B;ボタンを使用してデータを更新できます。「**[!UICONTROL フィルター]**」ボタンを使用して、データに対してフィルターを定義します。

特別なアイコンによって、エラーまたは警告を識別できます。[配信の分析](../../delivery/using/steps-validating-the-delivery.md#analyzing-the-delivery)を参照してください。

「**[!UICONTROL 配達確認]**」サブタブには、送信済みの配達確認のリストが表示されます。

![](assets/s_ncs_user_delivery_log_tab.png)

表示する列を選択することによって、このウィンドウ（および「**[!UICONTROL 配信]**」タブと「**[!UICONTROL トラッキング]**」タブ）に表示される情報を変更できます。そのためには、右下隅にある&#x200B;**[!UICONTROL リストを設定]**&#x200B;アイコンをクリックします。リストの表示について詳しくは、[この節](../../platform/using/adobe-campaign-workspace.md#configuring-lists)を参照してください。

### 配信ダッシュボードの同期 {#delivery-dashboard-synchronization}

配信が正常に送信されたことを確認するために、配信ダッシュボードから、処理されたメッセージおよび配信ログを確認できます。

一部の指標またはステータスが間違っていたり、最新ではないことがあります。これは、次の解決策で解消できる場合があります。

* 配信ステータスが間違っている場合は、この配信に対して必要なすべての承認がおこなわれていることと、**[!UICONTROL operationMgt]** および **[!UICONTROL deliveryMgt]** ワークフローがエラーなしで実行されていることを確認します。これは、送信インスタンスで設定されていないアフィニティを配信で使用していることが原因である可能性もあります。
* 配信指標がゼロのままで、ミッドソーシング設定である場合は、**[!UICONTROL ミッドソーシング（配信カウンター）]**&#x200B;テクニカルワークフローをチェックします。ステータスが&#x200B;**[!UICONTROL 開始済み]**&#x200B;ではない場合は、開始します。その後、Adobe Campaign エクスプローラーで関連する配信を右クリックして、**[!UICONTROL アクション]**／**[!UICONTROL 配信とトラッキング指標を再計算]**&#x200B;を選択することによって、指標を再計算できます。トラッキング指標について詳しくは、この[節](../../reporting/using/delivery-reports.md#tracking-indicators)を参照してください。
* 配信カウンターが配信と一致しない場合は、Adobe Campaign エクスプローラーで関連する配信を右クリックし、**[!UICONTROL アクション]**／**[!UICONTROL 配信とトラッキング指標を再計算]**&#x200B;を選択して、指標を再計算して再同期してください。トラッキング指標について詳しくは、この[節](../../reporting/using/delivery-reports.md#tracking-indicators)を参照してください。
* ミッドソーシングデプロイメントの配信カウンターが最新ではない場合は、**[!UICONTROL ミッドソーシング（配信カウンター）]**&#x200B;テクニカルワークフローが実行されていることを確認します。詳しくは、この[ページ](../../installation/using/mid-sourcing-deployment.md)を参照してください。

配信ダッシュボードで各種レポートの配信をトラッキングすることもできます。詳しくは、[この節](../../reporting/using/delivery-reports.md)を参照してください。

## パフォーマンスの問題 {#performance-issues}

### チェックリスト {#checklist-}

配信のパフォーマンスが悪い場合は、次の項目を確認できます。

* **配信のサイズ**：サイズの大きい配信は、完了までに時間がかかることがあります。MTA の子はデフォルトのバッチサイズを処理するように設定されます。この設定はほとんどのインスタンスで機能しますが、配信が頻繁に遅くなる場合はチェックする必要があります。
* **配信のターゲット**：配信パフォーマンスはソフトバウンスエラーの影響を受けることがあり、再試行設定に従って処理されます。エラーの数が多いと、より多くの再試行が必要になります。
* **プラットフォーム全体の負荷**：大きな配信を複数送信すると、プラットフォーム全体に影響することがあります。IP レピュテーションと配信品質の問題もチェックできます。詳しくは、Adobe Campaign の[配信のベストプラクティスガイド](https://docs.adobe.com/content/help/ja-JP/campaign-classic/using/sending-messages/deliverability-management/about-deliverability.html)と[このページ](../../delivery/using/about-deliverability.md)を参照してください。

プラットフォームとデータベースのメンテナンスも、配信の送信パフォーマンスに影響することがあります。詳しくは、[このページ](../../production/using/database-performances.md)を参照してください。

### 配信が遅い {#slow-deliveries}

「**[!UICONTROL 送信]**」ボタンをクリックした後に、配信が通常より長くかかっているように見えることがあります。これは様々な要素が原因として考えられます。

* 一部の電子メールプロバイダーが、ブロックリストにIPアドレスを追加している可能性があります。 In this case, check your broadlogs and consult [this section](../../delivery/using/about-deliverability.md).
* 迅速に処理するには配信が大きすぎる可能性があります。これは、JavaScript の高度なパーソナライゼーションで、または配信が 60KB を超えている場合に発生することがあります。コンテンツのガイドラインについて詳しくは、Adobe Campaign の[配信のベストプラクティス](https://docs.campaign.adobe.com/doc/AC/getting_started/JA/deliveryBestPractices.html)を参照してください。
* Adobe Campaign MTA 内でスロットルが発生している可能性があります。これは次の原因で発生します。

   * メッセージ保留中（**[!UICONTROL 割り当てに達しました]**&#x200B;というメッセージ）：Campaign に定義されている宣言的 MX ルールによって宣言された割り当てに達しました。このメッセージについて詳しくは、[このページ](https://helpx.adobe.com/jp/campaign/kb/acc-deliverability-faq.html#FAQ)を参照してください。MX ルールについて詳しくは、[このページ](../../delivery/using/technical-recommendations.md#mx-rules)を参照してください。
   * Messages pended (**[!UICONTROL dynamic flow control]** message): Campaign MTA has encountered errors when trying to deliver messages for a given ISP which causes a slowdown to avoid too big of an error density and thus facing potential block list.

* システムの問題によってサーバー間のインタラクションが妨げられることがあります。これにより、送信処理全体が低速になります。サーバーにメモリまたはリソースの問題がないことを確認します。これは、例えば、Campaign によるパーソナライゼーションデータの取得処理に影響することがあります。

### パフォーマンスのベストプラクティス {#best-practices-performance}

* 配信を失敗した状態のままインスタンス上で放置すると、一時テーブルが維持され、パフォーマンスに影響が生じるため、配信を失敗した状態のまま放置しないでください。

* 不要になった配信を削除します。

* 過去 12 ヶ月間にアクティブでない受信者は、アドレスの質を維持するためにデータベースから削除されます。

* 大規模な配信を同時にスケジュールしないようにしてください。負荷がシステム全体で均等に分散されるまでには、5 ～ 10 分かかります。他のチームメンバーと話し合い、最適なパフォーマンスが得られるように配信スケジュールを調整します。マーケティングサーバーが様々なタスクをいくつも同時に処理していると、パフォーマンスが低下することがあります。

* E メールのサイズをできるだけ小さくします。E メールの推奨最大サイズは約 35 KB です。送信サーバー上に生成されるボリュームは、E メール配信の規模によって決まります。

* 受信者数が 100 万人を超える大規模配信の場合は、送信キューにそれだけのスペースが必要です。これだけでサーバーに問題が生じるわけではありませんが、他の多数の大規模配信も同時におこなわれると、送信に遅れが生じる場合があります。

* E メールのパーソナライゼーションでは、データベースから各受信者のデータを取り出します。パーソナライゼーション要素が多数ある場合は、配信の準備に必要なデータの量もそれだけ多くなります。

* アドレスへのインデックスの追加.このアプリケーションで使用する SQL クエリのパフォーマンスを最適化するには、データスキーマのメイン要素からインデックスを宣言します。

>[!NOTE]
>
>ISP は、操作がない状態が続くアドレスを無効にします。この新しいステータスについての通知を送信者に送信するために、バウンスメッセージが送信されます。

## 配信ステータス {#delivery-statuses}

配信の送信中に、配信ダッシュボードに次のステータスが表示されることがあります。

<table> 
 <thead> 
  <tr> 
   <th> ステータス<br /> </th> 
   <th> 定義と解決策<br /> </th> 
  </tr> 
 </thead> 
 <tbody> 
  <tr> 
   <td> 該当なし<br /> </td> 
   <td> メッセージはサーバー（MTA）に取り込まれましたが、まだ処理されていません。<br /> </td> 
  </tr> 
  <tr> 
   <td> 無視<br /> </td> 
   <td> 配信は、アドレスにエラーがあるので受信者に送信されませんでした。ブロックリストに追加されたか、隔離されたか、提供されていなかったか、重複です。 <br /> </td> 
  </tr> 
  <tr> 
   <td> 送信済み<br /> </td> 
   <td> 配信は、メッセージプロバイダーに正しく送信されました（ただし、受信者が受信しているとは限りません）。<br /> </td> 
  </tr> 
  <tr> 
   <td> 失敗<br /> </td> 
   <td> 無効なアドレスやインボックスが満杯であることが原因で、配信は受信者に到達できませんでした。パーソナライゼーションブロックの問題に関係していることもあり、その場合、スキーマが配信マッピングと一致しないとエラーが生成されます。<a href="#failed-status" target="_blank">失敗ステータス</a><br />を参照してください。 </td> 
  </tr> 
  <tr> 
   <td> サービスプロバイダーによる判断<br /> </td> 
   <td> SMS サービスプロバイダーが配信を受信しました。<br /> </td> 
  </tr> 
  <tr> 
   <td> モバイルで受信済み<br /> </td> 
   <td> 受信者がモバイルデバイスで SMS を受信しました。<br /> </td> 
  </tr> 
  <tr> 
   <td> 保留中<br /> </td> 
   <td> 配信の送信の準備が完了し、配信サーバー（MTA）によって処理されます。<a href="#pending-status" target="_blank">保留中ステータス</a>を参照してください。<br /> </td> 
  </tr> 
  <tr> 
   <td> 配信がキャンセル済み<br /> </td> 
   <td> 操作がオペレーターによってキャンセルされました。<br /> </td> 
  </tr> 
  <tr> 
   <td> 準備済み<br /> </td> 
   <td> 外部コネクタ（モバイルチャネルなど）でのみ使用される中間ステータス。「保留中」ステータスの次に遷移するステータスであり、後続のステータスは外部コネクタが決定します。<br /> </td> 
  </tr> 
  <tr> 
   <td> サービスプロバイダーに送信済み<br /> </td> 
   <td> 配信は SMS サービスプロバイダーに送信されましたが、まだ受信されていません。<br /> </td> 
  </tr> 
 </tbody> 
</table>

Adobe Campaign E メールの配信品質の最適化方法について詳しくは、[配信品質のベストプラクティスガイド](https://docs.adobe.com/content/help/ja-JP/campaign-classic/using/sending-messages/deliverability-management/about-deliverability.html)と[このページ](../../delivery/using/about-deliverability.md)を参照してください。

### 保留中ステータス {#pending-status}

配信を確認した後に、配信のステータスが&#x200B;**[!UICONTROL 保留中]**&#x200B;である場合があります。このステータスは、一部のリソースが使用可能になるのを実行プロセスが待機していることを意味します。

**[!UICONTROL 保留中]**&#x200B;ステータスは、配信はスケジュールされたが特定の日付まで保留されることを意味している可能性があります。詳しくは、[配信のスケジュール](../../delivery/using/steps-sending-the-delivery.md#scheduling-the-delivery-sending)の節を参照してください。

配信が送信されず、ステータスが&#x200B;**[!UICONTROL 保留中]**&#x200B;のままである場合は、次のことが原因である可能性があります。

* MTA（Message Transfert Agent）が開始されておらず、再起動する必要がある可能性があります。MTA は配信サーバーでモジュールとプロセスを実行し、配信サーバーは E メールの送信を管理します。これを確認してモジュールを開始する（必要な場合）には、次の手順を実行します。

   * MTA サーバーで `mta@<instance>` モジュールが起動されていることを確認します。

   ```
   nlserver pdump
   HH:MM:SS > Application server for Adobe Campaign Classic (X.Y.Z YY.R build nnnn@SHA1) of DD/MM/YYYY
   [...]
   mta@<INSTANCENAME> (9268) - 23.0 Mb
   [...]
   ```

   * MTA がリストされていない場合は、次のコマンドを使用して開始します。

   ```
   nlserver start mta@<INSTANCENAME>
   ```

   >[!NOTE]
   >
   >`<INSTANCENAME>` をインスタンスの名前（production、development など）に置き換えます。インスタンス名は設定ファイルで識別されます。 `[path of application]nl6/conf/config-<INSTANCENAME>.xml`

* 送信サーバーに設定されていないアフィニティを配信で使用している可能性があります。この場合は、トラフィック管理（IP アフィニティ）の設定をチェックし、「**[!UICONTROL IP アドレスを使用してアフィニティを管理する]**」フィールドを使用して、アフィニティを管理する MTA に配信をリンクします。アフィニティについて詳しくは、[この節](../../installation/using/configuring-campaign-server.md#personalizing-delivery-parameters)を参照してください。
* 配信の準備が保留中の場合、多数のキャンペーンが実行されていて、配信ステータスの更新がブロックされている可能性があります。これを解決するには、**[!UICONTROL オプション]**&#x200B;に移動して、**[!UICONTROL NmsOperation_LimitConcurrency]** の値（デフォルトは 10）を増やします。実行するキャンペーンの数が、このオプションに割り当てられている値より多くならないようにしてください。

### 失敗ステータス {#failed-status}

E メール配信のステータスが&#x200B;**[!UICONTROL 失敗]**&#x200B;である場合は、パーソナライゼーションブロックの問題に関係している可能性があります。配信のパーソナライゼーションブロックは、例えば、スキーマが配信マッピングと一致しない場合にエラーを生成することがあります。

配信ログは、配信が失敗した理由を知るうえで重要です。配信ログから検出できる可能性のあるエラーを次に示します。

* 受信者メッセージが「未到達」エラーで失敗し、次のメッセージが表示されることがあります。**「content htmlContent」のコンパイル中にエラーが発生しました。行 X:`[table]`が定義されていません。JavaScript：スクリプト「content htmlContent」の評価中にエラーが発生しました**。この問題の原因は、ほとんどの場合、アップストリームターゲティングまたは配信のターゲットマッピングで定義されていないか、マップされていないテーブルまたはフィールドを HTML 内のパーソナライゼーションが呼び出そうとしていることにあります。

   これを修正するには、ワークフローと配信コンテンツを確認し、問題のテーブルを呼び出そうとするパーソナライゼーションを特定して、そのテーブルをマップできるかどうかを判別する必要があります。その後、このテーブルへの呼び出しを HTML で削除するか、配信へのマッピングを修正すると解決できます。

* 中間ソーシング配置モデルでは、次のメッセージが配信ログに表示されることがあります。**中間ソーシングサーバーでメソッド &#39;AppendDeliveryPart&#39; の呼び出し中にエラーが発生しました: &#39;サーバーとの通信エラー : これが正しく設定されていることを確認してください。HTTP コード 408 &#39;サービスは一時的に使用できなくなっています&#39;** 

   原因はパフォーマンスの問題に関連しています。これは、データをミッドソーシングサーバーに送信する前に、マーケティングインスタンスでデータの作成に時間がかかりすぎていることを意味します。

   これを解決するには、データベースをクリーンアップしてインデックスを再作成することをお勧めします。データベースのメンテナンスについて詳しくは、[この節](../../production/using/recommendations.md)を参照してください。

   スケジュールされているアクティビティのすべてのワークフロー、および失敗ステータスのすべてのワークフローも再開する必要があります。[この節](../../workflow/using/scheduler.md)を参照してください。

* 配信に失敗した場合、次のエラーが配信ログに表示される場合があります。 **DLV-XXXX 準備されたメッセージの数 (123) が、送信するメッセージの数 (111) を超えています。サポートにお問い合わせください。**

   通常、このエラーは受信者への E メール内に複数の値があるパーソナライゼーションフィールドまたはブロックがあることを意味します。パーソナライゼーションブロックが使用されていて、特定の受信者の複数のレコードを取得しています。

   これを解決するには、使用しているパーソナライゼーションデータを確認し、それらのフィールドに複数のエントリを持つ受信者のターゲットをチェックします。配信アクティビティの前にターゲティングワークフローで&#x200B;**[!UICONTROL 重複排除]**&#x200B;アクティビティを使用して、一度に 1 つのパーソナライゼーションフィールドのみが使用されていることを確認することもできます。重複排除について詳しくは、[このページ](../../workflow/using/deduplication.md)を参照してください。

* 配信によっては、「未到達」エラーで失敗し、「受信メールのバウンス（ルール &#39;Auto_replies&#39; がこのバウンスと一致しました）」というメッセージが表示されることがあります。これは、配信が成功したものの、「Auto_replies」インバウンド E メールに一致した受信者からの自動返信（「不在」返信など）を Adobe Campaign が受け取ったことを意味します。この自動返信 E メールは Adobe Campaign によって無視され、受信者のアドレスが強制隔離されることはありません。

**関連トピック：**

* [配信ログと履歴](#delivery-logs-and-history)
* [配信エラーの理解](../../delivery/using/understanding-delivery-failures.md)
* [配信エラーのタイプと理由](../../delivery/using/understanding-delivery-failures.md#delivery-failure-types-and-reasons)

## 送信されたメッセージ数 {#number-of-messages-sent}

配信には、配信リストからアクセスします。配信リストには、ツリーの&#x200B;**[!UICONTROL キャンペーン管理／配信]**&#x200B;ノードからアクセスします。

デフォルトでは、配信のリストには、選択したノードで作成された配信の名前とステータスが含まれます。送信するメッセージ数、処理されたメッセージ数および送信が成功したメッセージ数も表示されます。

* **[!UICONTROL 送信するメッセージ]**&#x200B;の数は、分析後かつ配信前にターゲットとされている受信者数に一致します。
* 「**[!UICONTROL 成功]**」列のメッセージの数は、サーバーが送信し、受信者が受け取ったメッセージの数に一致します。
* **[!UICONTROL 処理済み]**&#x200B;メッセージ数は、受信されたメッセージの数にエラーになったメッセージ数を加えたものです。

配信ダッシュボードで、送信されたメッセージ数をトラッキングできます。

>[!NOTE]
>
>大量配信時にこれらの値を更新したい場合は、該当する配信を選択して右クリックします。**[!UICONTROL アクション／配信とトラッキング指標を再計算]**&#x200B;を選択し、ウィザードを使用してこの情報を更新します。

## スケジュールされた配信 {#scheduled-deliveries-}

配信がスケジュールされた日に実行されない場合は、サーバーのタイムゾーンの違いが関係していることがあります。ミッドソーシングインスタンスとプロダクションインスタンスが異なるタイムゾーンにあることがあります。

例えば、ミッドソーシングインスタンスがブリスベンのタイムゾーンにあり、プロダクションインスタンスがダーウィンのタイムゾーンにある場合、この 2 つのタイムゾーンには 30 分の時差があり、配信がプロダクションで 11 時 56 分にスケジュールされている場合、ミッドソーシングでスケジュールされる同じ配信は 12 時 26 分であり、30 分の時差があることを監査ログで確認できます。
