---
product: campaign
title: メールパラメーター
description: メール配信に固有のオプションと設定について学ぶ
feature: Email
role: User, Developer, Data Engineer
hide: true
hidefromtoc: true
exl-id: 1bb36e71-9f1a-4553-b266-eca3f48688e2
source-git-commit: 0507e0372a81351adc145dafdd3cbe5d5422dc00
workflow-type: tm+mt
source-wordcount: '983'
ht-degree: 96%

---

# メールパラメーター {#email-parameters}

この節では、メール配信に固有のオプションとパラメーターについて説明します。

## BCC でメールを送信 {#email-bcc}

Adobe Campaign では、BCC メールアドレスをメッセージのターゲットに追加するだけで、BCC 経由でメールを外部システムに保存することができます。

このオプションを有効にしたら、送信したすべてのメッセージの正確なコピーがこの配信用に保持されます。

「BCC でメールを送信」の設定とベストプラクティスの詳細については、[この節](../../installation/using/email-archiving.md)を参照してください。

>[!NOTE]
>
>「BCC でメールを送信」はオプションの機能です。この機能を有効にするには、ライセンス契約を確認したうえで、アカウント担当者にお問い合わせください。

新しい配信または配信テンプレートを作成する場合、「BCC でメールを送信」はデフォルトで有効になっていません。メール配信または配信テンプレートレベルで手動で有効にする必要があります。

>[!NOTE]
>
>[Enhanced MTA](sending-with-enhanced-mta.md) でメールの BCC を使用している場合、このオプションはすべての配信に対して自動的に有効になります。

メール配信テンプレートの「BCC でメールを送信」を有効にするには、次の手順に従います。

1. **[!UICONTROL キャンペーン管理]**／**[!UICONTROL 配信]**&#x200B;または&#x200B;**[!UICONTROL リソース]**／**[!UICONTROL テンプレート]**／**[!UICONTROL 配信テンプレート]**&#x200B;に移動します。
1. 目的の配信を選択します。または、標準の&#x200B;**メール配信**&#x200B;テンプレートを複製して、複製されたテンプレートを選択します。
1. 「**プロパティ**」ボタンをクリックします。
1. 「**[!UICONTROL 配信]**」タブを選択します。
1. 「**BCC でメールを送信**」オプションを選択します。このテンプレートに基づく各配信に対するすべての送信済みメッセージのコピーが、設定済みの「BCC でメールを送信」アドレスに送信されます。

   ![](assets/s_ncs_user_wizard_archiving.png)

>[!NOTE]
>
>BCC アドレスに送信されたメールが開封され、クリックされた場合は、送信分析の&#x200B;**[!UICONTROL 合計開封数]**&#x200B;と&#x200B;**[!UICONTROL クリック数]**&#x200B;に含められますが、計算の誤りの原因となる可能性があります。

## メッセージ形式の選択 {#selecting-message-formats}

送信されるメールメッセージの形式は変更できます。変更するには、配信プロパティを編集し、「**[!UICONTROL 配信]**」タブをクリックします。

![](assets/s_ncs_user_wizard_email_param.png)

ウィンドウ下部のセクションで、メールの形式を選択します。

* **[!UICONTROL 受信者の環境設定を使用]**（デフォルトのモード）

  メッセージの形式は、受信者のプロファイルに格納されたデータに従って定義され、デフォルトでは「**[!UICONTROL メールフォーマット]**」フィールド（@emailFormat）に保存されます。受信者が特定の形式でメッセージを受信することを希望していれば、メッセージはその形式で送信されます。このフィールドに何も入力されていない場合は、マルチパート／オルタナティブメッセージが送信されます（以下を参照）。

* **[!UICONTROL 受信者のメールクライアントに最適なフォーマットを選択させる]**

  テキスト形式と HTML 形式の両方を含んだメッセージが送信されます。受信時に表示されるメッセージ形式は、受信者のメールソフトウェアの設定に応じて切り替わります（マルチパート／オルタナティブ）。

  >[!IMPORTANT]
  >
  >このオプションを指定すると、両方のバージョンのドキュメントがメッセージに含められます。したがって、メッセージサイズが大きくなり、配信の順位に影響があります。

* **[!UICONTROL すべてのメッセージをテキストフォーマットで送信]**

  メッセージはテキスト形式で送信されます。HTML 形式は送信されませんが、受信者がメッセージをクリックした場合にのみ表示されるミラーページに使用されます。

>[!NOTE]
>
>メールの内容の定義について詳しくは、[この節](defining-the-email-content.md)を参照してください。

## ミラーページの生成 {#generating-mirror-page}

ミラーページは、web ブラウザーからオンラインアクセス可能な HTML ページです。コンテンツはメールと変わりません。

デフォルトでは、メールコンテンツ内にリンクが挿入されているとミラーページが生成されます。パーソナライゼーションブロックの挿入について詳しくは、[Campaign v8 ドキュメント &#x200B;](https://experienceleague.adobe.com/docs/campaign/campaign-v8/send/personalize/personalization-blocks.html){target="_blank"} を参照してください。

配信プロパティの「**[!UICONTROL 有効性]**」タブにある「**[!UICONTROL モード]**」フィールドを使用すると、このページの生成モードを変更できます。

![](assets/s_ncs_user_wizard_miror_page_mode.png)

>[!IMPORTANT]
>
>ミラーページを作成するには、その配信の HTML コンテンツが定義されている必要があります。

デフォルトモードのほかに、次のオプションも選択できます。

* **[!UICONTROL ミラーページを強制的に生成]**：配信コンテンツ内にミラーページへのリンクが挿入されていなくても、ミラーページを生成します。
* **[!UICONTROL ミラーページを生成しない]**：配信コンテンツ内にリンクが挿入されていても、ミラーページを生成しません。
* **[!UICONTROL メッセージ識別子のみを使用してアクセス可能なミラーページを生成]**：配信ログウィンドウで、パーソナライゼーション情報を含むミラーページのコンテンツにアクセスできるようにします。これを使用するには、配信が完了した後に「**[!UICONTROL 配信]**」タブをクリックし、ミラーページを表示する受信者の行を選択します。「**[!UICONTROL このメッセージのミラーページを表示]**」リンクをクリックします。

  ![](assets/s_ncs_user_wizard_miror_page_link.png)

## 文字エンコーディング {#character-encoding}

配信パラメーターの「**[!UICONTROL SMTP]**」タブで、「**[!UICONTROL 文字エンコーディング]**」セクションを使用して特定のエンコードを設定できます。

デフォルトのエンコードは UTF-8 です。一部の受信者のメールプロバイダーが UTF-8 規格のエンコーディングをサポートしていない場合、メールの受信者に対して特殊文字を適切に表示するために特定のエンコーディングを設定する必要があります。

例えば、日本語の文字を含むメールを送信するとします。すべての文字が日本の受信者に正しく表示されるようにするには、標準の UTF-8 ではなく、日本語文字をサポートするエンコーディングを使用します。

そのためには、「**[!UICONTROL 文字エンコーディング]**」セクションの「**[!UICONTROL メッセージに使用されているエンコーディングを強制]**」オプションを選択し、表示されるドロップダウンリストからエンコーディングを選択します。

![](assets/s_ncs_user_email_del_properties_smtp_tab_encoding.png)

## バウンスメールの管理 {#managing-bounce-emails}

配信パラメーターの「**[!UICONTROL SMTP]**」タブでは、バウンスメール管理を設定できます。

デフォルトでは、バウンスメールはプラットフォームの[デフォルトエラーボックス](../../installation/using/deploying-an-instance.md#parameters-for-delivered-emails-parameters-for-delivered-emails)に受信されますが、配信用の専用エラーアドレスを定義することもできます。

また、バウンスメールの発生理由をアプリケーションで自動判定できない場合の調査用に、この画面から特定のアドレスを定義できます。**パーソナライゼーションフィールドの追加**&#x200B;アイコンを使用すると、各フィールドにパーソナライゼーションパラメーターを追加できます。

![](assets/s_ncs_user_email_del_properties_smtp_tab.png)

バウンスメールの管理について詳しくは、[この節](understanding-delivery-failures.md#bounce-mail-management)を参照してください。

## SMTP ヘッダーの追加 {#adding-smtp-headers}

配信には SMTP ヘッダーを追加できます。そのためには、配信の「**[!UICONTROL SMTP]**」タブの関連するセクションを使用します。

このウィンドウで入力するスクリプトは、行ごとに 1 つのヘッダーを **name:value** 形式で参照する必要があります。

値は必要に応じて自動的にエンコードされます。

>[!IMPORTANT]
>
>スクリプトを追加すると、挿入する SMTP ヘッダーを追加できます。これは高度な知識を持つユーザー向けに用意されています。
>
>スクリプトの構文は、このコンテンツタイプの要件を満たしている必要があります（不要なスペースや空行を含まないなど）。
