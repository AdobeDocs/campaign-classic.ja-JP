---
solution: Campaign Classic
product: campaign
title: 配信エラーの理解
description: 配信エラーの理解
audience: delivery
content-type: reference
topic-tags: monitoring-deliveries
translation-type: tm+mt
source-git-commit: 72fdac4afba6c786cfbd31f4a916b0539ad833e3
workflow-type: tm+mt
source-wordcount: '2623'
ht-degree: 83%

---


# 配信エラーの理解{#understanding-delivery-failures}

## 配信エラーについて {#about-delivery-failures}

メッセージ（E メール、SMS、プッシュ通知）をプロファイルに送信できない場合、リモートサーバーは自動的にエラーメッセージを送信します。このメッセージは Adobe Campaign プラットフォームによってピックアップされ、その E メールアドレスまたは電話番号を強制隔離するかどうかを決定するために評価されます。[バウンスメールの管理](#bounce-mail-management)を参照してください。

>[!NOTE]
>
>**E メール**&#x200B;エラーメッセージ（「バウンス」）は、Enhanced MTA（同期バウンス）または inMail プロセス（非同期バウンス）で評価されます。
>
>**SMS** エラーメッセージまたは SR（「ステータスレポート」の意味）は MTA プロセスによって評価されます。

メッセージの送信後、配信ログによって各プロファイルの配信ステータスと、関連するエラーのタイプおよび理由を確認できます。

アドレスが強制隔離されているか、プロファイルがブロックリストに登録されている場合、配信準備の際にメッセージを除外することもできます。除外されたメッセージのリストは、配信ダッシュボードに表示されます。

**関連トピック：**

* [配信ログと履歴](../../delivery/using/delivery-dashboard.md#delivery-logs-and-history)
* [失敗ステータス](../../delivery/using/delivery-performances.md#failed-status)
* [配信エラーのタイプと理由](#delivery-failure-types-and-reasons)

## 配信エラーのタイプと理由 {#delivery-failure-types-and-reasons}

メッセージエラーには次の 3 つのタイプがあります。それぞれのエラータイプによって、アドレスが強制隔離されるかどうかが決まります。詳しくは、[アドレスを強制隔離する条件](../../delivery/using/understanding-quarantine-management.md#conditions-for-sending-an-address-to-quarantine)を参照してください。

* **ハード**：「ハード」エラーは無効なアドレスの存在を示します。このエラーは、アドレスが無効であることを明示的に示すエラーメッセージ（例：「不明なユーザー」）を伴います。
* **ソフト**：これは一時的なエラーか、「無効なドメイン」または「メールボックス容量超過」など、分類が不可能なエラーです。
* **無視**：これは、「外出中」など一時的であることがわかっているエラーまたは送信者タイプが「postmaster」である場合などの技術的エラーです。

配信エラーの理由として考えられるものを以下に示します。

<table> 
 <tbody> 
  <tr> 
   <td> エラーラベル </td> 
   <td> エラータイプ </td> 
   <td> 技術値 </td> 
   <td> 説明 </td> 
  </tr> 
  <tr> 
   <td> 無効なアカウント </td> 
   <td> ソフト／ハード </td> 
   <td> 4 </td> 
   <td> アドレスにリンクされているアカウントはもはやアクティブではありません。インターネットアクセスプロバイダー（IAP）は、長期間使用されていないことを検出すると、そのユーザーのアカウントをクローズできます。そのユーザーのアドレスへの配信は不可能になります。アカウントが 6 ヶ月間使用されていないことが原因で一時的に無効になっていて、まだ有効化することができる場合は、エラーありステータスが割り当てられ、エラーカウンターが 5 に達するまでアカウントが再試行されます。アカウントが永続的に無効化されたことをエラーが示している場合は、アカウントは直接強制隔離に設定されます。<br /> </td> 
  </tr> 
  <tr> 
   <td> 強制隔離中のアドレス </td> 
   <td> ハード </td> 
   <td> 9 </td> 
   <td> アドレスは強制隔離されました。<br /> </td> 
  </tr> 
  <tr> 
   <td> アドレスが未指定 </td> 
   <td> ハード </td> 
   <td> 7 </td> 
   <td> 受信者のアドレスが指定されていません。<br /> </td> 
  </tr> 
  <tr> 
   <td> 低品質のアドレス </td> 
   <td> 無視 </td> 
   <td> 14 </td> 
   <td> このアドレスの品質評価が低すぎます。<br /> </td> 
  </tr> 
  <tr> 
   <td> ブロックリスト登録済みアドレス </td> 
   <td> ハード </td> 
   <td> 8 </td> 
   <td> 送信時にアドレスがブロックリストに追加されました。このステータスは、外部リストおよび外部システムからデータを Adobe Campaign の強制隔離リストにインポートするために使用します。<br /> </td> 
  </tr> 
  <tr> 
   <td> 制御アドレス </td> 
   <td> 無視 </td> 
   <td> 127 </td> 
   <td> 受信者のアドレスはコントロール母集団に含まれています。<br /> </td> 
  </tr> 
  <tr> 
   <td> 重複 </td> 
   <td> 無視 </td> 
   <td> 10 </td> 
   <td> 受信者のアドレスがこの配信に既に存在しました。<br /> </td> 
  </tr> 
  <tr> 
   <td> 無視されたエラー </td> 
   <td> 無視 </td> 
   <td> 25 </td> 
   <td> アドレスは許可リストに登録されています。したがってエラーは無視され、E メールは送信されます。<br /> </td> 
  </tr> 
  <tr> 
   <td> 判別後に除外 </td> 
   <td> 無視 </td> 
   <td> 12 </td> 
   <td> 受信者が「判別」タイプのキャンペーンタイポロジルールによって除外されました。<br /> </td> 
  </tr> 
  <tr> 
   <td> SQL ルールによって除外 </td> 
   <td> 無視 </td> 
   <td> 11 </td> 
   <td> 受信者が「SQL」タイプのキャンペーンタイポロジルールによって除外されました。<br /> </td> 
  </tr> 
  <tr> 
   <td> 無効なドメイン </td> 
   <td> ソフト </td> 
   <td> 2 </td> 
   <td> E メールアドレスのドメインが正しくないか、存在しません。このプロファイルは、エラーカウントが 5 にならない限り、再びターゲットになります。その後、レコードは強制隔離ステータスに設定され、以降は再試行されなくなります。<br /> </td> 
  </tr> 
  <tr> 
   <td> メールボックス容量超過 </td> 
   <td> ソフト </td> 
   <td> 5 </td> 
   <td> このユーザーのメールボックスはいっぱいになっていて、メッセージをこれ以上受け入れることができません。このプロファイルは、エラーカウントが 5 にならない限り、再びターゲットになります。その後、レコードは強制隔離ステータスに設定され、以降は再試行されなくなります。<br />このタイプのエラーはクリーンアッププロセスによって管理されます。アドレスは 30 日後に有効なステータスに設定されます。<br />警告：強制隔離されたアドレスのリストからアドレスを自動的に削除するには、データベースクリーンアップテクニカルワークフローを開始する必要があります。<br /> </td> 
  </tr> 
  <tr> 
   <td> 未接続 </td> 
   <td> 無視 </td> 
   <td> 6 </td> 
   <td> メッセージが送信されたときに受信者の携帯電話の電源が切れていたか、ネットワークに接続されていませんでした。<br /> </td> 
  </tr> 
  <tr> 
   <td> 未定義 </td> 
   <td> 未定義 </td> 
   <td> 0 </td> 
   <td> エラーがまだインクリメントされていないので、アドレスは検証中です。このタイプのエラーは、サーバーが新しいエラーメッセージを送信すると発生します。単独のエラーである可能性もありますが、再度発生した場合はエラーカウンターがインクリメントされ、テクニカルチームに警告されます。その後、テクニカルチームは、ツリー構造の<span class="uicontrol">管理</span>／<span class="uicontrol">キャンペーン管理</span>／<span class="uicontrol">配信不能件数の管理</span>ノードからメッセージの分析を実行し、このエラーを検証します。<br /> </td> 
  </tr> 
  <tr> 
   <td> オファーを受ける資格がない </td> 
   <td> 無視 </td> 
   <td> 16 </td> 
   <td> 受信者には配信でオファーを受ける資格がありませんでした。<br /> </td> 
  </tr> 
  <tr> 
   <td> 拒否 </td> 
   <td> ソフト／ハード </td> 
   <td> 20 </td> 
   <td> アドレスは、スパムレポートであるというセキュリティフィードバックが原因で強制隔離されました。アドレスは、エラーに応じて、エラーカウンターが 5 に達するまで再試行されるか、直接強制隔離されます。<br /> </td> 
  </tr> 
  <tr> 
   <td> サイズが制限されたターゲット </td> 
   <td> 無視 </td> 
   <td> 17 </td> 
   <td> 受信者に対する最大配信サイズに達しました。<br /> </td> 
  </tr> 
  <tr> 
   <td> 未適合のアドレス </td> 
   <td> 無視 </td> 
   <td> 15 </td> 
   <td> 郵便物の送付先住所が選定されていません。<br /> </td> 
  </tr> 
  <tr> 
   <td> 未到達 </td> 
   <td> ソフト／ハード </td> 
   <td> 3 </td> 
   <td> メッセージ配信チェーンでエラーが発生しました。SMTP リレーに関するインシデント、ドメインへの一時的な未到達などの可能性があります。アドレスは、エラーに応じて、エラーカウンターが 5 に達するまで再試行されるか、直接強制隔離されます。<br /> </td> 
  </tr> 
  <tr> 
   <td> 不明なユーザー </td> 
   <td> ハード </td> 
   <td> 1 </td> 
   <td> アドレスが存在しません。このプロファイルに対する配信はこれ以上試行されません。<br /> </td> 
  </tr> 
 </tbody> 
</table>

## 一時的な配信エラーの後の再試行 {#retries-after-a-delivery-temporary-failure}

一時的な&#x200B;**ソフト**&#x200B;または&#x200B;**無視**&#x200B;のエラーによるメッセージエラーが発生した場合、再試行が配信期間中におこなわれます

>[!NOTE]
>
>一時的に配信できなかったメッセージは、**ソフト**&#x200B;または&#x200B;**無視**&#x200B;のエラーにのみ関係するもので、**ハード**&#x200B;エラーは関係ありません（[配信エラーのタイプと理由](#delivery-failure-types-and-reasons)を参照）。

>[!IMPORTANT]
>
>ホストインストールまたはハイブリッドインストールの場合、[拡張MTA](../../delivery/using/sending-with-enhanced-mta.md)にアップグレードした場合、配信の再試行設定は、キャンペーンで使用されなくなります。 ソフトバウンスの再試行とその間隔は、メッセージの E メールドメインから返されるバウンス応答のタイプと重大度に基づいて、Enhanced MTA が決定します。

レガシーキャンペーンMTAを使用したオンプレミスインストールおよびホスト/ハイブリッドインストールの場合、配信の長さを変更するには、配信または配信テンプレートの高度なパラメーターに移動し、対応するフィールドに目的の長さを指定します。 「[有効期間の定義](../../delivery/using/steps-sending-the-delivery.md#defining-validity-period)」を参照してください。

デフォルトの設定では、1 時間間隔で 5 回、その後 4 日間は 1 日に 1 回再試行されます。再試行の数は、グローバルに変更する(Adobeのテクニカル管理者に問い合わせる)か、配信または配信テンプレートごとに変更できます([再試行の設定](../../delivery/using/steps-sending-the-delivery.md#configuring-retries)を参照)。

## 同期エラーと非同期エラー {#synchronous-and-asynchronous-errors}

メッセージは、直ちにエラーになることも（同期エラー）、送信後しばらくしてエラーになることも（非同期エラー）あります。

* 同期エラー：Adobe Campaign 配信サーバーによってアクセスされたリモートメールサーバーがエラーメッセージを返します。配信をプロファイルのサーバーに送ることは許可されません。Adobe Campaign が個々のエラーを評価して、その E メールアドレスを強制隔離すべきかどうかを判断します。[バウンスメールの選定](#bounce-mail-qualification)を参照してください。
* 非同期エラー：バウンスメールまたは SR が受信サーバーによって後で再送信された場合です。このメールは、メッセージにエラーのラベルを付けるためにアプリケーションが使用するテクニカルメールボックスに読み込まれます。非同期エラーは、配信の送信から 1 週間が経過するまで発生する可能性があります。

   >[!NOTE]
   >
   >バウンスメールボックスの設定については、[この節](../../installation/using/deploying-an-instance.md#managing-bounced-emails)で詳しく説明しています。

   [フィードバックループ](../../delivery/using/technical-recommendations.md#feedback-loop)はバウンス E メールのように機能します。ユーザーが E メールをスパムとみなしたら、Adobe Campaign で E メールルールを設定して、このユーザーへのすべての配信をブロックできます。E メールをスパムとみなしたユーザーに送信されたメッセージは、この目的用に特別に作成された E メールボックスに自動的にリダイレクトされます。このようなユーザーのアドレスは、購読解除リンクをクリックしなかった場合でも、ブロックリストに登録されます。アドレスは、（**NmsRecipient**）受信者テーブルではなく、（**NmsAddress**）強制隔離テーブルでブロックリストに登録されます。

   >[!NOTE]
   >
   >苦情数管理については、[配信品質の管理](../../delivery/using/about-deliverability.md)の節で詳しく説明しています。

## バウンスメール管理 {#bounce-mail-management}

Adobe Campaign プラットフォームでは、バウンスメール機能を使用して、E メール配信の失敗を管理できます。

E メールを受信者に配信できない場合は、リモートメッセージングサーバーが、専用のテクニカル受信ボックスにエラーメッセージ（バウンスメール）を自動的に返します。

レガシーキャンペーンMTAを使用したオンプレミスインストールおよびホスト/ハイブリッドインストールの場合、エラーメッセージはAdobe Campaignプラットフォームによって収集され、inMailプロセスで修飾され、電子メール管理ルールのリストを強化します。

>[!IMPORTANT]
>
>ホスト型またはハイブリッド型のインストールの場合、[拡張MTA](../../delivery/using/sending-with-enhanced-mta.md)にアップグレードした場合、電子メール管理ルールのほとんどは使用されなくなります。 詳しくは、[この節](#email-management-rules)を参照してください。

### バウンスメールの選定 {#bounce-mail-qualification}

>[!IMPORTANT]
>
>ホストインストールまたはハイブリッドインストールの場合、[拡張MTA](../../delivery/using/sending-with-enhanced-mta.md)にアップグレードした場合：
>
>* **[!UICONTROL 配信ログの検証]**&#x200B;テーブルのバウンス選定は、同期配信の失敗エラーメッセージには使用されなくなりました。**** Enhanced MTA は、バウンスのタイプと選定を決定し、その情報を Campaign に返します。
   >
   >
* ****&#x200B;非同期バウンスは、引き続き、**[!UICONTROL インバウンド E メール]**&#x200B;ルールを通じて inMail プロセスで選定されます。詳しくは、[E メール管理ルール](#email-management-rules)を参照してください。
   >
   >
* Webhooks/EFS **なしで拡張MTA**&#x200B;を使用する場合、**[!UICONTROL Inbound email]**&#x200B;ルールも、非同期バウンス電子メールと同じ電子メールアドレスを使用して、拡張MTAからの同期バウンス電子メールを処理するために使用されます。


レガシーキャンペーンMTAを使用したオンプレミスインストールおよびホスト/ハイブリッドインストールの場合、電子メールの配信に失敗すると、Adobe Campaign配信サーバーは、メッセージングサーバーまたはリモートDNSサーバーからエラーメッセージを受け取ります。 エラーのリストは、リモートサーバーが返したメッセージに含まれる文字列で構成されます。エラータイプと理由が各エラーメッセージに割り当てられます。

このリストは、**[!UICONTROL 管理／キャンペーン管理／配信不能件数の管理／配信ログの検証]**&#x200B;ノードから表示できます。このリストには、配信エラーを評価するために Adobe Campaign が使用するすべてのルールが含まれています。このリストは、完成されたものではなく、Adobe Campaign によって定期的に更新されます。ユーザーが管理することもできます。

![](assets/tech_quarant_rules_qualif.png)

このエラータイプが最初に発生したときにリモートサーバーから返されたメッセージは、**[!UICONTROL 配信ログの検証]**&#x200B;テーブルの&#x200B;**[!UICONTROL 最初のテキスト]**&#x200B;列に表示されます。この列が表示されない場合は、リストの右下にある「**[!UICONTROL リストを設定]**」ボタンをクリックし、この列を選択します。

![](assets/tech_quarant_rules_qualif_text.png)

Adobe Campaign は、このメッセージをフィルター処理して変数コンテンツ（ID、日付、E メールアドレス、電話番号など）を削除し、フィルター処理した結果を&#x200B;**[!UICONTROL テキスト]**&#x200B;列に表示します。変数は、**`#xxx#`** で置き換えられます（ただし、アドレスは **`*`** で置き換えられます）。

このプロセスで同じタイプのすべてのエラーをまとめることにより、同じようなエラーの複数のエントリが配信ログの検証テーブルに含まれないようにすることができます。

>[!NOTE]
>
>「**[!UICONTROL 発生数]**」フィールドには、リスト内のメッセージの発生回数が表示されます。上限は 100,000 回です。このフィールドは、リセットする場合など、必要に応じて編集できます。

バウンスメールは、次の検証ステータスを持つことができます。

* **[!UICONTROL 検証必要]**：バウンスメールを選定できませんでした。選定を配信品質チームに割り当てて、効率的なプラットフォーム配信品質を保証する必要があります。選定されていないバウンスメールは、E メール管理ルールのリストのエンリッチメントには使用されません。
* **[!UICONTROL 保持]**：バウンスメールは検証されました。**配信品質の更新**&#x200B;ワークフローは、このバウンスメールを既存の E メール管理ルールとの比較およびリストのエンリッチメントに使用します。
* **[!UICONTROL 無視]**：バウンスメールは Campaign MTA では無視され、このバウンスによって受信者のアドレスが隔離されることはありません。**配信品質の更新**&#x200B;ワークフローでは使用されず、クライアントインスタンスには送信されません。

![](assets/deliverability_qualif_status.png)

### E メール管理ルール {#email-management-rules}

>[!IMPORTANT]
>
>ホスト型またはハイブリッド型のインストールの場合、[拡張MTA](../../delivery/using/sending-with-enhanced-mta.md)にアップグレードした場合、電子メール管理ルールのほとんどは使用されなくなります。 詳しくは、以下の節を参照してください。

メールルールには、**[!UICONTROL 管理／キャンペーン管理／配信不能件数の管理／メールルールセット]**&#x200B;ノードからアクセスします。E メール管理ルールがウィンドウの下部に表示されます。

![](assets/tech_quarant_rules.png)

>[!NOTE]
>
>プラットフォームのデフォルトのパラメーターは、デプロイウィザードで設定します。詳しくは、[この節](../../installation/using/deploying-an-instance.md)を参照してください。

デフォルトのルールには次のものがあります。

>[!IMPORTANT]
>
>* パラメーターを変更した場合は、配信サーバー（MTA）を再起動する必要があります。
>* 管理ルールを変更または作成できるのは、エキスパートユーザーのみです。


#### インバウンド E メール {#inbound-email}

>[!IMPORTANT]
>
>ホスト型またはハイブリッド型のインストールでは、[拡張MTA](../../delivery/using/sending-with-enhanced-mta.md)にアップグレードし、インスタンスに&#x200B;**Webhooks/EFS**&#x200B;機能がある場合、**[!UICONTROL 受信電子メール]**&#x200B;ルールは、同期配信失敗エラーメッセージには使用されません。 詳しくは、[この節](#bounce-mail-qualification)を参照してください。

レガシーキャンペーンMTAを使用したオンプレミスインストールおよびホスト/ハイブリッドインストールの場合、これらのルールには、リモートサーバーから返される文字列のリストが含まれ、エラー（**Hard**、**Soft**&#x200B;または&#x200B;**Ignored**）を修飾します。

E メールが失敗すると、リモートサーバーがプラットフォームのパラメーターで指定されたアドレスにバウンスメールを返します。Adobe Campaign は、各バウンスメールのコンテンツをルールのリストの文字列と比較して、3 つの[エラータイプ](#delivery-failure-types-and-reasons)のいずれかを割り当てます。

>[!NOTE]
>
>ユーザーは独自のルールを作成できます。パッケージをインポートしたり、**配信品質の更新**&#x200B;ワークフローでデータを更新すると、ユーザーが作成したルールが上書きされます。

バウンスメールの選定について詳しくは、[この節](#bounce-mail-qualification)を参照してください。

#### ドメイン管理 {#domain-management}

>[!IMPORTANT]
>
>ホストインストールまたはハイブリッドインストールの場合、[拡張MTA](../../delivery/using/sending-with-enhanced-mta.md)にアップグレードした場合、**[!UICONTROL ドメイン管理]**&#x200B;ルールは使用されなくなります。 **DKIM（DomainKeys Identified Mail）** E メール認証の署名は、すべてのドメインのメッセージに対して Enhanced MTA によっておこなわれます。Enhanced MTA レベルで特に指定されていない限り、**Sender ID**、**、DomainKeys** 、または **S/MIME** を使用して署名することはありません。

レガシーキャンペーンMTAを使用したオンプレミスインストールおよびホスト/ハイブリッドインストールの場合、Adobe Campaignメッセージングサーバーは、1つの&#x200B;**Domain management**&#x200B;ルールをすべてのドメインに適用します。

<!--![](assets/tech_quarant_domain_rules_02.png)-->

* 特定の識別標準や、**送信者 ID**、**DomainKeys**、**DKIM**、**S/MIME** などドメイン名をチェックするための暗号鍵を有効化するかどうかを選択できます。
* **SMTP リレー**&#x200B;パラメーターは、特定のドメインのリレーサーバーの IP アドレスおよびポートを設定できます。詳しくは、[この節](../../installation/using/configuring-campaign-server.md#smtp-relay)を参照してください。

Outlook でメッセージの差出人アドレスに「**[!UICONTROL ...が代理で送信]**」と表示される場合、Microsoft が提供する旧式の専用 E メール認証標準である **Sender ID** を使用して E メールに署名しないようにしてください。「**[!UICONTROL 送信者 ID]**」オプションが有効な場合は、対応するボックスのチェックマークを外し、[アドビカスタマーケア](https://helpx.adobe.com/jp/enterprise/admin-guide.html/enterprise/using/support-for-experience-cloud.ug.html)に連絡します。配信品質に影響はありません。

#### MX 管理 {#mx-management}

>[!IMPORTANT]
>
>ホスト型またはハイブリッド型のインストールの場合、[拡張MTA](../../delivery/using/sending-with-enhanced-mta.md)にアップグレードした場合、**[!UICONTROL MX management]**&#x200B;配信のスループットルールは使用されなくなります。 Enhanced MTA は独自の MX ルールを使用します。これにより、独自の E メールレピュテーション履歴および E メールを送信しているドメインから送信されるリアルタイムのフィードバックに基づいて、スループットをドメインごとにカスタマイズすることができます。

レガシーキャンペーンMTAを使用したオンプレミスインストールおよびホスト/ハイブリッドインストールの場合：

* MX 管理ルールを使用して、特定のドメインに送信される E メールのフローを規制します。このルールは、バウンスメッセージをサンプリングし、必要に応じて送信をブロックします。

* Adobe Campaign のメッセージングサーバーは、ドメイン独自のルールを適用してから、ルールのリストにアステリスク付きで表示される一般的なケース用のルールを適用します。

* MX 管理ルールを設定するには、しきい値を設定して、特定の SMTP パラメーターを選択するだけです。**しきい値**&#x200B;とは、特定のドメイン宛てのメッセージをブロックする基準となるエラー率です。エラー率がこの値を超えると、特定のドメイン宛てのすべてのメッセージがブロックされます。例えば一般的なケースでは、300 件以上のメッセージに対してエラー率が 90％に達すると、E メールの送信が 3 時間ブロックされます。

MX 管理について詳しくは、[この節](../../installation/using/email-deliverability.md#mx-configuration)を参照してください。
