---
product: campaign
title: タイムゾーン管理
description: タイムゾーン管理
audience: installation
content-type: reference
topic-tags: additional-configurations
exl-id: e5ed96cc-3fc7-4af4-a29e-5a4c81f4fe39
source-git-commit: 20509f44c5b8e0827a09f44dffdf2ec9d11652a1
workflow-type: tm+mt
source-wordcount: '905'
ht-degree: 1%

---

# タイムゾーン管理{#time-zone-management}

![](../../assets/v7-only.svg)

## 動作原理 {#operating-principle}

Adobe Campaignでは、日付をタイムゾーンの関数として表すことができます。これにより、世界中のユーザーが様々なタイムゾーンで作業できるようになります。 同じインスタンスを使用する各国で、キャンペーン、トラッキング、アーカイブなどの実行を管理できます。 現地時間に応じて。

Adobe Campaignプラットフォームを国際規模で使用できるようにするには、システムで使用されるすべての日付がタイムゾーンにリンクできる必要があります。 タイムゾーンがわかっている日付は、その他のタイムゾーンにインポートすることも、タイムゾーンに関係なくインポートすることもできます。

Adobe Campaignでは、日付/時刻を UTC（協定世界時）形式で保存できます。 データが公開されると、オペレーターのローカル日時に変換されます。 変換は、データベースが UTC で設定されると自動的に実行されます（[ 設定 ](#configuration) を参照）。 データベースが UTC で設定されていない場合、プラットフォーム内の日付のタイムゾーンに関する情報は、オプションに保存されます。

タイムゾーン管理に関する主なプラットフォーム機能は次のとおりです。データのインポート/エクスポートおよびオペレーターとワークフロー管理。 **継承の概念** は、インポート/エクスポートまたはワークフローに使用できます。 デフォルトでは、データベースサーバーのタイムゾーン用に設定されていますが、ワークフローや単一のアクティビティ用に新しいタイムゾーンを再定義することもできます。

**** オペレーターは、配信の設 **定時** にタイムゾーンを変更し、配信を実行する特定のタイムゾーンを指定できます。

>[!IMPORTANT]
>
>データベースが複数のタイムゾーンを管理しない場合は、すべてのデータのフィルタリング操作に対して、データベースサーバーのタイムゾーンで SQL クエリを実行する必要があります。

各Adobe Campaignオペレーターは、タイムゾーンにリンクされています。この情報は、プロファイルで設定されます。 詳しくは、[ このドキュメント ](../../platform/using/access-management.md) を参照してください。

Adobe Campaignプラットフォームでタイムゾーン管理が不要な場合は、特定のタイムゾーンを含むストレージモードをローカル形式に保つことができます。

## 推奨事項 {#recommendations}

タイムゾーンは、次のような様々な現実を組み合わせています。この式は、UTC の日付での一定のタイムラグ、または年に 2 回（夏時間）時間が変わる地域の時刻を表す場合があります。

例えば、postgreSQL では、 **SET TIME ZONE &#39;Europe/Paris&#39;;** コマンドは夏と冬の時間を考慮に入れます。日付は、年の時刻に応じて UTC+1 または UTC+2 で表されます。

ただし、**SET TIME ZONE 0200;** コマンドを使用した場合、タイムラグは常に UTC+2 になります。

## 設定 {#configuration}

日付と時刻のストレージモードは、データベースの作成時に選択します（[ 新しいインスタンスの作成 ](#creating-a-new-instance) を参照）。 移行の場合、日付にリンクされた時間は、現地の日付と時間に変換されます（[ 移行 ](#migration) を参照）。

技術的な観点から、**日付+時刻** 型の情報をデータベースに格納する方法は 2 つあります。

1. タイムスタンプ（タイムゾーン形式）:データベースエンジンは、日付を UTC で保存します。 開かれた各セッションにはタイムゾーンが設定され、それに従って日付が変換されます。
1. ローカル形式+ローカルタイムゾーン：すべての日付はローカル形式（タイムラグ管理なし）で保存され、1 つのタイムゾーンが割り当てられます。 タイムゾーンは、Adobe Campaignインスタンスの **WdbcTimeZone** オプションに保存され、ツリーの **[!UICONTROL 管理/プラットフォーム/オプション]** メニューで変更できます。

>[!IMPORTANT]
>
>この変更により、データの整合性と同期の問題が発生する可能性があることに注意してください。

### 新しいインスタンスの作成 {#creating-a-new-instance}

複数の国際ユーザーが同じインスタンスで作業するには、国間のタイムラグを管理するインスタンスを作成する際に、タイムゾーンを設定する必要があります。 インスタンスの作成時に、データベース設定段階の「**[!UICONTROL タイムゾーン]**」セクションで日付と時間の管理モードを選択します。

**[!UICONTROL UTC データベース（タイムゾーンのある日付フィールド）]** オプションをチェックして、日付と時刻を UTC 形式（SQL フィールドおよび XML フィールド）で格納します。

![](assets/install_wz_select_utc_option.png)

>[!IMPORTANT]
>
>**Oracle** を使用している場合、Oracleクライアントレイヤーのタイムゾーンファイル (.dat) は、サーバーにインストールされているタイムゾーンファイルと互換性がある必要があります。

データベースが UTC でない場合は、ドロップダウンリストで提供されたタイムゾーンの 1 つを選択できます。 また、サーバーのタイムゾーンを使用したり、「UTC（協定世界時）」オプションを選択したりすることもできます。

![](assets/install_wz_unselect_utc_option.png)

**[!UICONTROL UTC データベース（タイムゾーンのある日付フィールド）]** オプションを選択した場合、SQL フィールドは TIMESTAMP WITH TIMEZONE 形式で保存されます。

それ以外の場合は、ローカル形式で格納され、データベースに適用するタイムゾーンを選択する必要があります。

### 移行 {#migration}

以前のバージョン（タイムゾーン管理を使用しない）に移行する場合は、データベースで日付ストレージモードを定義する必要があります。

Adobe Campaignデータベースにアクセスする外部ツールとの互換性を保つため、「**日付+時刻**」タイプの SQL フィールドは、デフォルトでローカル形式で保存されます。

日付を含む XML フィールドが UTC で保存されるようになりました。 読み込み中、UTC 形式でないフィールドは、サーバーのタイムゾーンを使用して自動的に変換されます。 つまり、すべての XML フィールドは順次 UTC 形式に変換されます。

既存のインスタンスを使用するには、**WdbcTimeZone** オプションを追加し、インスタンスのタイムゾーンを入力します。

>[!IMPORTANT]
>
>WdbcTimeZone オプションに正しい値が設定されていることを確認してください：後で行う変更は、矛盾を引き起こす可能性があります。

可能な値の例：

* Europe/Paris,
* ヨーロッパ / ロンドン,
* America/New_York など

   これらの値は、tz(Olson) データベースから取得されます。 詳しくは、[https://en.wikipedia.org/wiki/List_of_tz_database_time_zones](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones) を参照してください。
